<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Anthony&#39;s Blog</title>
  
  
  <link href="https://johnnytsai81.github.io/atom.xml" rel="self"/>
  
  <link href="https://johnnytsai81.github.io/"/>
  <updated>2024-03-13T14:28:08.848Z</updated>
  <id>https://johnnytsai81.github.io/</id>
  
  <author>
    <name>Anthony Tsai</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>用GSAP製作網站特效（四）MotionPath</title>
    <link href="https://johnnytsai81.github.io/Plugin/18_gsap-4/"/>
    <id>https://johnnytsai81.github.io/Plugin/18_gsap-4/</id>
    <published>2023-10-24T04:17:39.000Z</published>
    <updated>2024-03-13T14:28:08.848Z</updated>
    
    <content type="html"><![CDATA[<p>MotionPath是GSAP的套件之一，主要用途是讓物件跟著線跑動，可以做出一些很特別的動畫。</p><p><img src="/images/post/head-cv-09.jpg" alt="$cover"></p><h2 id="MotionPath-的基礎操作"><a href="#MotionPath-的基礎操作" class="headerlink" title="MotionPath 的基礎操作"></a>MotionPath 的基礎操作</h2><p>因為是套件所以需要另外呼叫</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">registerPlugin</span>(<span class="title class_">MotionPathPlugin</span>);</span><br></pre></td></tr></table></figure><p>呼叫完之後你必須要設定一個想被Observer套用的行為模式</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;.b&quot;</span>, &#123; <span class="comment">// 要動的物件</span></span><br><span class="line"><span class="attr">duration</span>: <span class="number">1.75</span>,</span><br><span class="line"><span class="attr">ease</span>: <span class="string">&quot;linear&quot;</span>,</span><br><span class="line"><span class="attr">motionPath</span>: &#123;</span><br><span class="line"><span class="attr">path</span>: <span class="string">&quot;.path&quot;</span>, <span class="comment">// 追蹤的線(線為svg裡面的path)</span></span><br><span class="line"><span class="attr">align</span>: <span class="string">&quot;.path&quot;</span>, <span class="comment">// 基準點的物件</span></span><br><span class="line"><span class="attr">alignOrigin</span>: [<span class="number">0</span>, <span class="number">0</span>], <span class="comment">// 基準點，[0, 0]代表center center的意思</span></span><br><span class="line">&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="案例研究"><a href="#案例研究" class="headerlink" title="案例研究"></a>案例研究</h2><iframe src="https://codepen.io//johnnytsai81/embed/xxaNMMB?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>MotionPath操作起來很直觀簡單，但是他有一個大缺點是不會跟隨著螢幕大小變化去更新路徑的變化，如果偵測到resize就重新整理網頁不是一個很好的用戶體驗。</p><p><code>progress()</code>是用來記錄目前的動畫進度，0代表開始、1代表結束。這邊利用<code>progress()</code>紀錄上次的動畫進度，以防在resize更新動畫跳回一開始的狀態。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> progress = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">if</span> (tween) &#123;</span><br><span class="line">progress = tween.<span class="title function_">progress</span>(); <span class="comment">// 在載入動畫的情況下才更新progress</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">tween.<span class="title function_">progress</span>(progress); <span class="comment">// 載入上次的進度</span></span><br></pre></td></tr></table></figure><p>另外一個小巧思是，物件在gsap還沒有載入的時候會在螢幕左上方很醜，所以這邊預設一開始是看不到的，等到載入好再顯示物件。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">tween.<span class="title function_">set</span>(<span class="string">&quot;.airplane&quot;</span>, &#123;</span><br><span class="line"><span class="attr">duration</span>: <span class="number">0.2</span>,</span><br><span class="line"><span class="attr">opacity</span>: <span class="number">1</span>,</span><br><span class="line">&#125;).<span class="title function_">to</span>(<span class="string">&quot;.airplane&quot;</span>, &#123;</span><br><span class="line"><span class="attr">duration</span>: <span class="number">10</span>,</span><br><span class="line"><span class="attr">ease</span>: <span class="string">&quot;linear&quot;</span>,</span><br><span class="line"><span class="attr">repeat</span>: -<span class="number">1</span>, <span class="comment">// 無限循環</span></span><br><span class="line"><span class="attr">motionPath</span>: &#123;</span><br><span class="line"><span class="attr">duration</span>: <span class="number">10</span>,</span><br><span class="line"><span class="attr">ease</span>: <span class="string">&quot;linear&quot;</span>,</span><br><span class="line"><span class="attr">repeat</span>: -<span class="number">1</span>, <span class="comment">// 無限循環</span></span><br><span class="line"><span class="attr">motionPath</span>: &#123;</span><br><span class="line"><span class="attr">start</span>: <span class="number">0.5</span>, <span class="comment">// 開始點</span></span><br><span class="line"><span class="attr">end</span>: -<span class="number">0.5</span>, <span class="comment">// 結束點</span></span><br><span class="line"><span class="attr">offsetY</span>: -<span class="number">50</span>, <span class="comment">// 水平平移50</span></span><br><span class="line"><span class="attr">autoRotate</span>: <span class="number">180</span>, <span class="comment">// 會隨著斜率改變角度</span></span><br><span class="line"><span class="attr">path</span>: <span class="string">&quot;.wave-path&quot;</span>, <span class="comment">// 抓取的軌跡</span></span><br><span class="line"><span class="attr">align</span>: <span class="string">&quot;.wave-path&quot;</span>,</span><br><span class="line"><span class="attr">alignOrigin</span>: [<span class="number">0.5</span>, <span class="number">0.5</span>], <span class="comment">// 垂直水平置中</span></span><br><span class="line">&#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="常用變數介紹"><a href="#常用變數介紹" class="headerlink" title="常用變數介紹"></a>常用變數介紹</h4><div class="table-outer"><table><thead><tr><th>指令</th><th>型別</th><th>用途</th></tr></thead><tbody><tr><td>start</td><td>Number</td><td>開始點，預設為0也就是路徑的起點</td></tr><tr><td>end</td><td>Number</td><td>結束點，預設為1也就是路徑的終點</td></tr><tr><td>path</td><td>String | Element | Array</td><td>線段的位置(svg)</td></tr><tr><td>align</td><td>String | Element</td><td>以哪一個元素為基準點</td></tr><tr><td>alignOrigin</td><td>Array</td><td>基準點的位置，[0.5, 0.5]就是center center的意思</td></tr><tr><td>autoRotate</td><td>Boolean | Number</td><td>是否會隨著斜率改變角度</td></tr><tr><td>type</td><td>String</td><td>預設為path也就是二維的，三維的為type: "cubic"</td></tr><tr><td>offsetX</td><td>Number</td><td>垂直平移距離</td></tr><tr><td>offsetY</td><td>Number</td><td>水平平移距離</td></tr></tbody></table></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;MotionPath是GSAP的套件之一，主要用途是讓物件跟著線跑動，可以做出一些很特別的動畫。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-09.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;MotionPath-的基礎操作</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Animation" scheme="https://johnnytsai81.github.io/tags/Animation/"/>
    
  </entry>
  
  <entry>
    <title>用GSAP製作網站特效（三）Observer</title>
    <link href="https://johnnytsai81.github.io/Plugin/17_gsap-3/"/>
    <id>https://johnnytsai81.github.io/Plugin/17_gsap-3/</id>
    <published>2023-10-02T04:17:39.000Z</published>
    <updated>2024-03-13T14:54:59.380Z</updated>
    
    <content type="html"><![CDATA[<p>Observer是GSAP的套件之一，主要用途為偵測使用者的行為，像是滑鼠滾輪向下、或是用手機向下滑。如果你想要向上滑跟向下滑有不同的結果，那就很適合使用這個外掛。</p><p><img src="/images/post/head-cv-09.jpg" alt="$cover"></p><h2 id="Observer-的基礎操作"><a href="#Observer-的基礎操作" class="headerlink" title="Observer 的基礎操作"></a>Observer 的基礎操作</h2><p>因為是套件所以需要另外呼叫</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">registerPlugin</span>(<span class="title class_">Observer</span>);</span><br></pre></td></tr></table></figure><p>呼叫完之後你必須要設定一個想被Observer套用的行為模式</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Observer</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line"><span class="attr">target</span>: <span class="variable language_">window</span>,   <span class="comment">// 觸發的物件</span></span><br><span class="line"><span class="attr">type</span>: <span class="string">&quot;wheel,touch&quot;</span>,   <span class="comment">// 觸發的行為</span></span><br><span class="line"><span class="attr">onUp</span>: <span class="function">() =&gt;</span> <span class="title function_">previous</span>(),  <span class="comment">// 往上滾動執行的函式</span></span><br><span class="line"><span class="attr">onDown</span>: <span class="function">() =&gt;</span> <span class="title function_">next</span>(),  <span class="comment">// 往下滾動執行的函式</span></span><br><span class="line"><span class="attr">ignore</span>: <span class="string">&quot;.deadzone&quot;</span> <span class="comment">// 忽略的區塊</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>你也可以使用回調函式去看參數的變化</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Observer</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">    <span class="attr">onChange</span>: <span class="function">(<span class="params">self</span>) =&gt;</span>  &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;velocity:&quot;</span>, self.<span class="property">velocityX</span>, self.<span class="property">velocityY</span>, <span class="string">&quot;delta:&quot;</span>, self.<span class="property">deltaX</span>, self.<span class="property">deltaY</span>, <span class="string">&quot;target element:&quot;</span>, self.<span class="property">target</span>, <span class="string">&quot;last event:&quot;</span>, self.<span class="property">event</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="案例研究"><a href="#案例研究" class="headerlink" title="案例研究"></a>案例研究</h2><iframe src="https://codepen.io/GreenSock/embed/XWzRraJ?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>gsap也可以做出像輪播圖一格一格的滑動感，只是難度上比一般的輪播圖套件來的難很多，但是他的優勢就是可以用Observer做出往上滑跟往下滑有不同的動畫效果。</p><p><code>animating</code>是用來製造輪播圖效果的參數，當我們正在滑動的時候就不觸發，避免過場動畫亂掉。</p><p>因為監聽滑鼠行為的時候操作方向會跟手勢滑動相反(如果你是用Mac可能沒感覺)，如果你想同時監聽兩者行為的話建議加上<code>wheelSpeed: -1</code>。</p><p><code>gotoSection()</code>是當我們滑動時需要改變目前顯示的區塊，往下滑會回上一張所以currentIndex會-1，第二個變數是用來顯示對應的動畫效果。</p><p>最後<code>tolerance</code>這參數是防止稍微移動一下就觸發onDown跟onUp，這邊建議給他10~50左右。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">Observer</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line"><span class="attr">type</span>: <span class="string">&quot;wheel,touch,pointer&quot;</span>,</span><br><span class="line"><span class="attr">wheelSpeed</span>: -<span class="number">1</span>,</span><br><span class="line"><span class="attr">onDown</span>: <span class="function">() =&gt;</span> !animating &amp;&amp; <span class="title function_">gotoSection</span>(currentIndex - <span class="number">1</span>, -<span class="number">1</span>),</span><br><span class="line"><span class="attr">onUp</span>: <span class="function">() =&gt;</span> !animating &amp;&amp; <span class="title function_">gotoSection</span>(currentIndex + <span class="number">1</span>, <span class="number">1</span>),</span><br><span class="line"><span class="attr">tolerance</span>: <span class="number">10</span>,</span><br><span class="line"><span class="attr">preventDefault</span>: <span class="literal">true</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="常用變數介紹"><a href="#常用變數介紹" class="headerlink" title="常用變數介紹"></a>常用變數介紹</h4><div class="table-outer"><table><thead><tr><th>指令</th><th>型別</th><th>用途</th></tr></thead><tbody><tr><td>lockAxis</td><td>Boolean</td><td>開啟鎖定指定軸的方向的相關參數 (可以參考<a target="_blank" href="https://codepen.io/GreenSock/pen/BarGQgw?editors=1011">這個</a>例子會比較清楚是在幹麻的)</td></tr><tr><td>tolerance</td><td>Number</td><td>忍受值，如果設定50代表你的滑鼠要移動超過50px才會做觸發的動作</td></tr><tr><td>dragMinimum</td><td>Number</td><td>拖動忍受值，如果設定50代表你的手要滑動超過50px才會做觸發的動作</td></tr><tr><td>ignore</td><td>Element | String | Array </td><td>無視的區塊</td></tr><tr><td>onChange</td><td>Function</td><td>只要有任何的滾動行為都會觸發函式</td></tr><tr><td>onChangeX</td><td>Function</td><td>只要有任何的左右滾動行為都會觸發函式</td></tr><tr><td>onChangeY</td><td>Function</td><td>只要有任何的上下滾動行為都會觸發函式</td></tr><tr><td>onClick</td><td>Function</td><td>只要有任何的點擊行為都會觸發函式</td></tr><tr><td>onDown</td><td>Function</td><td>只要有滑鼠滾輪向下或手指向下滑都會觸發函式 (如果要向上請加上<code>wheelSpeed: -1</code>)</td></tr><tr><td>onLeft</td><td>Function</td><td>只要有滑鼠滾輪向右或手指向右滑都會觸發函式</td></tr><tr><td>onRight</td><td>Function</td><td>只要有滑鼠滾輪向右或手指向左滑都會觸發函式</td></tr><tr><td>onHover</td><td>Function</td><td>滑鼠移入區塊後觸發函式</td></tr><tr><td>onHoverEnd</td><td>Function</td><td>滑鼠移出區塊後觸發函式</td></tr><tr><td>onLockAxis</td><td>Function</td><td>鎖定指定軸時觸發函式</td></tr><tr><td>onPress</td><td>Function</td><td>按壓拖動時觸發函式</td></tr><tr><td>onRelease</td><td>Function</td><td>按壓並且放開時觸發函式</td></tr><tr><td>type</td><td>String</td><td>想監聽哪些行為，預設是wheel、touch、pointer <ul><li>wheel：滑鼠滾動</li><li>scroll：滾動行為</li><li>touch：任何裝置的觸碰行為(包含手機跟電腦)</li><li>pointer：任何除了觸碰行為的行為</li></ul></td></tr><tr><td>target</td><td>Element | String</td><td>想觸發的區塊，預設是viewport</td></tr></tbody></table></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Observer是GSAP的套件之一，主要用途為偵測使用者的行為，像是滑鼠滾輪向下、或是用手機向下滑。如果你想要向上滑跟向下滑有不同的結果，那就很適合使用這個外掛。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-09.jpg&quot; alt=&quot;$co</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Animation" scheme="https://johnnytsai81.github.io/tags/Animation/"/>
    
  </entry>
  
  <entry>
    <title>用GSAP製作網站特效（二）ScrollTrigger</title>
    <link href="https://johnnytsai81.github.io/Plugin/16_gsap-2/"/>
    <id>https://johnnytsai81.github.io/Plugin/16_gsap-2/</id>
    <published>2023-09-17T04:17:39.000Z</published>
    <updated>2024-03-10T15:49:36.363Z</updated>
    
    <content type="html"><![CDATA[<p>ScrollTrigger是利用滑鼠滾動來控制動畫的套件，最大的賣點之一是他可以做出pin的效果，你可以自由控制什麼時候要被pin住。</p><p><img src="/images/post/head-cv-09.jpg" alt="$cover"></p><h2 id="ScrollTrigger-的基礎操作"><a href="#ScrollTrigger-的基礎操作" class="headerlink" title="ScrollTrigger 的基礎操作"></a>ScrollTrigger 的基礎操作</h2><p>ScrollTrigger是利用滑鼠滾動來控制動畫的套件，最大的賣點之一是他可以做出pin的效果，你可以自由控制什麼時候要被pin住。<br>他的原理是fixed住你想pin的區塊並且加入<code>padding-bottom</code>把下方的區塊推下去，讓使用者在感覺不出來畫面是有真實在滾動的。</p><h4 id="step-1-載入套件"><a href="#step-1-載入套件" class="headerlink" title="step 1. 載入套件"></a>step 1. 載入套件</h4><p>第一步你要先告訴gsap你要加載這個套件跟你要控制的物件</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">registerPlugin</span>(<span class="title class_">ScrollTrigger</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// trigger代表你想要作用的區塊(如果不寫的話會自動抓gsap.to的對象，所以也可以省略)</span></span><br><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;.b&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">        <span class="attr">trigger</span>: <span class="string">&quot;.b&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="step-2-設定開始跟結束的範圍-amp-動畫效果"><a href="#step-2-設定開始跟結束的範圍-amp-動畫效果" class="headerlink" title="step 2. 設定開始跟結束的範圍&amp;動畫效果"></a>step 2. 設定開始跟結束的範圍&amp;動畫效果</h4><p>第二步你要設定開始點跟結束點，如果你覺得觸發的條件有點抽象可以開啟markers檢視觸發的位置在哪裡。觸發的點是當scroller-start進入start時開始，scroller-end進入到end時結束</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;.b&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="number">150</span>,</span><br><span class="line">    <span class="attr">rotation</span>: <span class="number">360</span>,</span><br><span class="line">    <span class="attr">ease</span>: <span class="string">&quot;power1.out&quot;</span>,</span><br><span class="line">    <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">      <span class="attr">trigger</span>: <span class="string">&quot;.b&quot;</span>, <span class="comment">//觸發的物件(可省略)</span></span><br><span class="line">      <span class="attr">start</span>: <span class="string">&quot;50% 70%&quot;</span>, <span class="comment">// (物件開始位置, 卷軸開始位置) 參數可以設定 top center bottom px %</span></span><br><span class="line">      <span class="attr">end</span>: <span class="string">&quot;+=300&quot;</span>, <span class="comment">//(物件結束位置, 卷軸結束位置) , 也可以設卷軸捲動多少結束動畫(+=300是指start的位置再加上300)</span></span><br><span class="line">      <span class="attr">pin</span>: <span class="literal">true</span>, <span class="comment">// 物件執行完動畫會跟著卷軸走，類似 position: fixed</span></span><br><span class="line">      <span class="attr">scrub</span>: <span class="number">1</span>, <span class="comment">// 物件動畫延遲的秒數</span></span><br><span class="line">      <span class="attr">toggleClass</span>: <span class="string">&quot;active&quot;</span>, <span class="comment">// 增加移除的class，class名稱須為字串</span></span><br><span class="line">      <span class="attr">markers</span>: <span class="literal">true</span> <span class="comment">// 顯示標記</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><iframe src="https://codepen.io/GreenSock/embed/zYXryjN?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><h4 id="常見參數介紹"><a href="#常見參數介紹" class="headerlink" title="常見參數介紹"></a>常見參數介紹</h4><div class="table-outer"><table><thead><tr><th>指令</th><th>型別</th><th>用途</th></tr></thead><tbody><tr><td>start</td><td>String | Number | Function</td><td><ul><li>可以輸入兩個參數分別代表 [物件開始位置, 卷軸開始位置]</li><li>如果沒有輸入參數則預設為top</li><li>單位可以設定 top center bottom px % +=100 也可以是自定義變數或是函式</li><li>max是一個特殊的單位，指最大的捲動長度</li></ul></td></tr><tr><td>end</td><td>String | Number | Function</td><td><ul><li>可以輸入兩個參數分別代表 [物件結束位置, 卷軸結束位置]</li><li>如果沒有輸入參數則預設為bottom</li><li>單位可以設定 top center bottom px % +=100 也可以是自定義變數或是函式</li><li>max是一個特殊的單位，指最大的捲動長度</li></ul></td></tr><tr><td>markers</td><td>Boolean</td><td>打開位置檢查器</td></tr><tr><td>horizontal</td><td>Boolean</td><td>打開的話往下畫面會橫向移動(可以開啟markers發現位置由上下變成左右了)</td></tr><tr><td>pin</td><td>Boolean | Element </td><td>觸發時會被釘選住(fixed)，參數也可以設定你想pin的元素位置</td></tr><tr><td>pinSpacing</td><td>Boolean</td><td>如果不想要釘選時自動生成下方的padding，可以使用false取消掉</td></tr><tr><td>toggleClass</td><td>String</td><td>觸發時該物件會新增的class，class名稱須為字串(如果你想新增class的地方不是該物件就只能用onEnter的方法觸發)</td></tr><tr><td>toggleActions</td><td>String</td><td>需要輸入四個參數，分別代表onEnter、onLeave、onEnterBack、onLeaveBack的行爲(EX:play none none none 代表只有正向進入時會執行動畫)</td></tr><tr><td>scrub</td><td>Boolean | Number</td><td>如果設定true代表會按照滑鼠滾動的距離計算動畫的位置，如果設定數字則代表動畫延遲的秒數</td></tr><tr><td>onEnter</td><td>Function</td><td>由上往下進入時觸發函式 <code>onEnter: () => &#123;...&#125;</code></td></tr><tr><td>onEnterBack</td><td>Function</td><td>由下往上進入時觸發函式 <code>onEnterBack: () => &#123;...&#125;</code></td></tr><tr><td>onLeave</td><td>Function</td><td>由上往下離開時觸發程式 <code>onLeave: () => &#123;...&#125;</code></td></tr><tr><td>onLeaveBack</td><td>Function</td><td>由下往上離開時觸發函式 <code>onLeaveBack: () => &#123;...&#125;</code></td></tr></tbody></table></div><p>註：這些參數都必須寫在scrollTrigger裡面才會作用</p><p>如果覺得onEnter很抽象的話，官方也有給解釋的範例</p><iframe src="https://codepen.io/GreenSock/embed/qBrRaeX?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>更詳細的參數介紹請見<a href="https://gsap.com/docs/v3/Plugins/ScrollTrigger/">官方手冊</a></p><hr><h2 id="使用timeline優化流程"><a href="#使用timeline優化流程" class="headerlink" title="使用timeline優化流程"></a>使用timeline優化流程</h2><p>上述的範例都是在物件只有一個的情況下，當你的動畫是由很多物件組合在一起的，這時使用timeline去組合這些動畫會比較好。</p><h4 id="step-1-設定-timeline"><a href="#step-1-設定-timeline" class="headerlink" title="step 1. 設定 timeline"></a>step 1. 設定 timeline</h4><p>首先你要先建立一個<code>gsap.timeline</code>，trigger的位置是這些物件的父層容器。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">registerPlugin</span>(<span class="string">&quot;ScrollTrigger&quot;</span>);</span><br><span class="line"></span><br><span class="line">gsap.<span class="title function_">timeline</span>(&#123;</span><br><span class="line">    <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">        <span class="attr">trigger</span>: <span class="string">&quot;.public-section&quot;</span>, <span class="comment">// 你想要作用的區塊</span></span><br><span class="line">        <span class="attr">start</span>: <span class="string">&quot;top top&quot;</span>, <span class="comment">// 開始位置</span></span><br><span class="line">        <span class="attr">end</span>: <span class="string">&quot;+=2000&quot;</span>, <span class="comment">// 結束位置(通常會給他設定這段動畫的總長為多少)</span></span><br><span class="line">        <span class="attr">pin</span>: <span class="string">&quot;.public-section&quot;</span>, <span class="comment">// 你想要fixed的區塊</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>看下面的範例可以發現只要放在父層容器的所有物件都會跟著被fixed住，直到滾動超過2000px後才恢復正常的效果。</p><iframe src="https://codepen.io/GreenSock/embed/eYoJXXq?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><h4 id="step-2-設定動畫的時間軸"><a href="#step-2-設定動畫的時間軸" class="headerlink" title="step 2. 設定動畫的時間軸"></a>step 2. 設定動畫的時間軸</h4><p>就像接龍一樣把接下來想做的動畫串連上去就可以了。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">timeline</span>(&#123;</span><br><span class="line">    <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">        <span class="attr">trigger</span>: <span class="string">&quot;.public-section&quot;</span>,</span><br><span class="line">        <span class="attr">start</span>: <span class="string">&quot;top top&quot;</span>,</span><br><span class="line">        <span class="attr">end</span>: <span class="string">&quot;+=2000&quot;</span>,</span><br><span class="line">        <span class="attr">pin</span>: <span class="string">&quot;.public-section&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;).<span class="title function_">to</span>(</span><br><span class="line">    <span class="string">&quot;.public-section .a&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">300</span>,</span><br><span class="line">        <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">          <span class="attr">start</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">end</span>: <span class="number">500</span>,</span><br><span class="line">          <span class="attr">scrub</span>: <span class="number">1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">).<span class="title function_">fromTo</span>(</span><br><span class="line">    <span class="string">&quot;.public-section .b&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">autoAlpha</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">autoAlpha</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">y</span>: -<span class="number">300</span>,</span><br><span class="line">        <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">          <span class="attr">start</span>: <span class="number">200</span>,</span><br><span class="line">          <span class="attr">end</span>: <span class="number">800</span>,</span><br><span class="line">          <span class="attr">scrub</span>: <span class="number">1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><iframe src="https://codepen.io/GreenSock/embed/abxdrpG?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><hr><p>如果你覺得接龍的方式會讓函式變得一大串，也可以把它拆分成多段，這樣程式碼看起來就不會像一坨義大利麵。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> part1_tl = gsap.<span class="title function_">timeline</span>();</span><br><span class="line"><span class="keyword">let</span> part2_tl = gsap.<span class="title function_">timeline</span>();</span><br><span class="line"></span><br><span class="line"><span class="title class_">ScrollTrigger</span>.<span class="title function_">create</span>(&#123;</span><br><span class="line">    <span class="attr">trigger</span>: <span class="string">&quot;.public-section&quot;</span>,</span><br><span class="line">    <span class="attr">start</span>: <span class="string">&quot;top top&quot;</span>,</span><br><span class="line">    <span class="attr">end</span>: <span class="string">&quot;+=2000&quot;</span>,</span><br><span class="line">    <span class="attr">pin</span>: <span class="string">&quot;.public-section&quot;</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">part1_tl.<span class="title function_">to</span>(</span><br><span class="line">    <span class="string">&quot;.public-section .a&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">x</span>: <span class="number">300</span>,</span><br><span class="line">        <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">          <span class="attr">start</span>: <span class="number">0</span>,</span><br><span class="line">          <span class="attr">end</span>: <span class="number">500</span>,</span><br><span class="line">          <span class="attr">scrub</span>: <span class="number">1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line">part2_tl.<span class="title function_">fromTo</span>(</span><br><span class="line">    <span class="string">&quot;.public-section .b&quot;</span>,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">autoAlpha</span>: <span class="number">0</span></span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">autoAlpha</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">y</span>: -<span class="number">300</span>,</span><br><span class="line">        <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">          <span class="attr">start</span>: <span class="number">200</span>,</span><br><span class="line">          <span class="attr">end</span>: <span class="number">800</span>,</span><br><span class="line">          <span class="attr">scrub</span>: <span class="number">1</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;</span><br><span class="line">)</span><br></pre></td></tr></table></figure><hr><h2 id="案例研究"><a href="#案例研究" class="headerlink" title="案例研究"></a>案例研究</h2><p>我這邊分析幾個官方給的example，可以從中學習他們是如何運用這些參數去做動畫。</p><h4 id="案例一-stagger的運用"><a href="#案例一-stagger的運用" class="headerlink" title="案例一 stagger的運用"></a>案例一 stagger的運用</h4><p>stagger是用來處理多個物件時每一個物件的間距秒數</p><iframe src="https://codepen.io/GreenSock/embed/qBwZZgg?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>首先他把大砲跟射出去的東西拆成兩個timeline，再用一個masterTl去組合在一起。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> masterTl = gsap.<span class="title function_">timeline</span>(&#123;</span><br><span class="line">  <span class="attr">paused</span>: <span class="literal">true</span>,</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> tl1 = gsap.<span class="title function_">timeline</span>()</span><br><span class="line"><span class="keyword">const</span> tl2 = gsap.<span class="title function_">timeline</span>()</span><br><span class="line"></span><br><span class="line">masterTl</span><br><span class="line">  .<span class="title function_">add</span>(tl1, <span class="number">0</span>)</span><br><span class="line">  .<span class="title function_">add</span>(tl2, <span class="number">0</span>)</span><br><span class="line">  .<span class="title function_">play</span>();</span><br></pre></td></tr></table></figure><p>大砲的部分，他用3段動畫組合在一起，分別是往左、左右搖擺、往右，因為沒有設定scrollTrigger所以動畫會是一個執行完馬上接著做下一個。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tl1 = gsap</span><br><span class="line">    .<span class="title function_">timeline</span>()</span><br><span class="line">    .<span class="title function_">to</span>(cannon, &#123;</span><br><span class="line">        <span class="attr">rotation</span>: -angle,</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">0.65</span>,</span><br><span class="line">        <span class="attr">ease</span>: <span class="string">&quot;power1.inOut&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">to</span>(</span><br><span class="line">    cannon,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="attr">rotation</span>: angle,</span><br><span class="line">        <span class="attr">ease</span>: <span class="string">&quot;power1.inOut&quot;</span>,</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">1</span>,</span><br><span class="line">        <span class="attr">repeat</span>: <span class="number">3</span>,</span><br><span class="line">        <span class="attr">yoyo</span>: <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    )</span><br><span class="line">    .<span class="title function_">to</span>(cannon, &#123;</span><br><span class="line">        <span class="attr">rotation</span>: <span class="number">0</span>,</span><br><span class="line">        <span class="attr">duration</span>: <span class="number">0.65</span>,</span><br><span class="line">        <span class="attr">ease</span>: <span class="string">&quot;power1.inOut&quot;</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>子彈的部分因為是一個一個射出去，所以你要給gsap一個array讓他知道要抓取哪些元素。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> bullets = [];</span><br><span class="line"><span class="keyword">const</span> bulletsContainer = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.flair-container&quot;</span>);</span><br><span class="line"><span class="keyword">const</span> tl1Time = tl1.<span class="title function_">duration</span>();</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">40</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> className = <span class="string">&quot;flair--&quot;</span> + gsap.<span class="property">utils</span>.<span class="title function_">random</span>(<span class="number">2</span>, <span class="number">35</span>, <span class="number">1</span>);</span><br><span class="line">    flairBullet = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">    flairBullet.<span class="title function_">setAttribute</span>(<span class="string">&quot;class&quot;</span>, <span class="string">&quot;flair flair-bullet &quot;</span> + className);</span><br><span class="line">    bulletsContainer.<span class="title function_">appendChild</span>(flairBullet);</span><br><span class="line">    bullets.<span class="title function_">push</span>(flairBullet);</span><br><span class="line">    gsap.<span class="title function_">set</span>(flairBullet, &#123; <span class="attr">scale</span>: <span class="string">&quot;random(0.4, 0.6)&quot;</span> &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><div class="admonition info"><p class="admonition-title">tip</p><p><code>gsap.utils()</code>是gsap提供的一些實用的方法，你不一定要用原生的JS去處理，這邊有相關的<a href="https://gsap.com/docs/v3/GSAP/gsap.utils">方法介紹</a>。所以按照文件說明 <code>gsap.utils.random(2, 35, 1)</code> 這段的意思就是隨機產生2~35的數字寫最小單位是1(也就是不會有小數點)</p></div><div class="admonition info"><p class="admonition-title">tip</p><p><code>gsap.set()</code>是設定元素的css設定需要有兩個參數，第一個是作用的元素、第二個是css樣式，等同於沒有ease效果的gsap.to()。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">set</span>(<span class="string">&quot;.class&quot;</span>, { <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">50</span>, <span class="attr">opacity</span>: <span class="number">0</span> }); <span class="comment">// 這兩個的結果會一樣</span></span><br><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;.class&quot;</span>, { <span class="attr">duration</span>: <span class="number">0</span>, <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">50</span>, <span class="attr">opacity</span>: <span class="number">0</span> });</span><br><span class="line"></span><br><span class="line">gsap.<span class="title function_">set</span>([obj1, obj2, obj3], { <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">y</span>: <span class="number">50</span>, <span class="attr">opacity</span>: <span class="number">0</span> }); <span class="comment">// 第一個參數也可以為array</span></span><br></pre></td></tr></table></figure></p></div><p>最後做出 1.子彈出現 2.子彈射出 的連續動畫，這邊有用到<code>physics2D</code> 這個是需要付費的套件功能(Physics2DPlugin)，所以就不多作介紹。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> tl2 = gsap</span><br><span class="line">    .<span class="title function_">timeline</span>()</span><br><span class="line">    .<span class="title function_">to</span>(bullets, &#123;</span><br><span class="line">        <span class="attr">opacity</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="attr">duration</span>: <span class="number">0.25</span>,</span><br><span class="line">            <span class="attr">stagger</span>: &#123;</span><br><span class="line">            <span class="attr">amount</span>: tl1Time</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">    .<span class="title function_">to</span>(bullets,&#123;</span><br><span class="line">        <span class="attr">duration</span>: tl1Time,</span><br><span class="line">        <span class="attr">physics2D</span>: &#123;</span><br><span class="line">            <span class="attr">velocity</span>: <span class="string">&quot;random(600, 850)&quot;</span>,</span><br><span class="line">            <span class="attr">angle</span>: <span class="function">() =&gt;</span> <span class="number">270</span> + gsap.<span class="title function_">getProperty</span>(cannon, <span class="string">&quot;rotation&quot;</span>),</span><br><span class="line">            <span class="attr">gravity</span>: <span class="number">600</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">stagger</span>: &#123;</span><br><span class="line">            <span class="attr">amount</span>: tl1Time</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,<span class="number">0</span>);</span><br></pre></td></tr></table></figure><h4 id="案例二-橫向移動"><a href="#案例二-橫向移動" class="headerlink" title="案例二 橫向移動"></a>案例二 橫向移動</h4><p>當你要介紹timeline相關的內容時，橫向移動是一個非常好的呈現方式</p><iframe src="https://codepen.io/johnnytsai81/embed/rNbeeXr?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>首先你要先抓取你要橫向移動的區塊，並且計算它有多長</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> pinWrap = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(<span class="string">&quot;.pin-wrap&quot;</span>);</span><br><span class="line"><span class="keyword">let</span> pinWrapWidth = pinWrap.<span class="property">offsetWidth</span>; <span class="comment">// 計算長度</span></span><br><span class="line"><span class="keyword">let</span> horizontalScrollLength = pinWrapWidth - <span class="variable language_">window</span>.<span class="property">innerWidth</span>; <span class="comment">// 扣除螢幕的寬度(實際橫向移動的距離)</span></span><br></pre></td></tr></table></figure><p>接著使用scrollTrigger把畫面固定住並且給他需要橫向移動的長度(這邊把ease關掉估計是怕locomotive-scroll會互相干擾)</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;.pin-wrap&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">scrollTrigger</span>: &#123;</span><br><span class="line">        <span class="attr">scroller</span>: pageContainer, <span class="comment">//locomotive-scroll</span></span><br><span class="line">        <span class="attr">scrub</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">trigger</span>: <span class="string">&quot;#sectionPin&quot;</span>,</span><br><span class="line">        <span class="attr">pin</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">start</span>: <span class="string">&quot;top top&quot;</span>,</span><br><span class="line">        <span class="attr">end</span>: pinWrapWidth</span><br><span class="line">    &#125;,</span><br><span class="line">        <span class="attr">x</span>: -horizontalScrollLength,</span><br><span class="line">        <span class="attr">ease</span>: <span class="string">&quot;none&quot;</span></span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure><p>最後因為他有使用locomotive-scroll的關係，所以有使用refresh()跟update()的方式防止scrollTrigger計算錯誤。</p><hr><h2 id="進階設定"><a href="#進階設定" class="headerlink" title="進階設定"></a>進階設定</h2><p>這邊舉一些我有用過的參數或是屬性，因為實在太多了無法一一列舉。</p><h4 id="偵測裝置行為"><a href="#偵測裝置行為" class="headerlink" title="偵測裝置行為"></a>偵測裝置行為</h4><p>有時候你會遇到手機裝置跟滑鼠裝置做出不一樣的行為時可以使用<code>ScrollTrigger.isTouch</code>這個屬性去做判斷。<br>0為滑鼠模式，1為觸碰模式，2為兩者皆是</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="title class_">ScrollTrigger</span>.<span class="property">isTouch</span>) &#123;</span><br><span class="line">    <span class="comment">// 可以觸碰的裝置</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="偵測移動方向"><a href="#偵測移動方向" class="headerlink" title="偵測移動方向"></a>偵測移動方向</h4><p>當你需要判斷現在使用者是往哪裡滑動的時候，可以用<code>ScrollTrigger.observe()</code>去做偵測不需要另外使用Observer這個套件。<br>至於參數設定跟Observer一樣，會在下一篇做更詳細的介紹。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="title class_">ScrollTrigger</span>.<span class="title function_">observe</span>(&#123;</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;wheel, touch&quot;</span>, <span class="comment">// 需要作用的行為</span></span><br><span class="line">    <span class="attr">onUp</span>: <span class="function">() =&gt;</span> ..., <span class="comment">// 往上滑想要做的事情</span></span><br><span class="line">    <span class="attr">onLeft</span>: <span class="function">() =&gt;</span> ..., <span class="comment">// 往右滑想要做的事情</span></span><br><span class="line">    <span class="attr">wheelSpeed</span>: -<span class="number">1</span>, <span class="comment">// 因為用手機滑動是往下滑畫面往上跑，所以行爲要剛好相反</span></span><br><span class="line">    <span class="attr">tolerance</span>: <span class="number">50</span>, <span class="comment">// 數值越大會需要滑動較大力才會觸發</span></span><br><span class="line">    <span class="attr">preventDefault</span>: <span class="literal">true</span>, <span class="comment">// 防止預設行為</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="同時控制多個相同的動畫"><a href="#同時控制多個相同的動畫" class="headerlink" title="同時控制多個相同的動畫"></a>同時控制多個相同的動畫</h4><p>一般來說你可以用<code>ScrollTrigger.array()</code>同時控制多個物件，這邊有提供一個<code>ScrollTrigger.batch()</code>讓你更簡便處理回調函式。</p><iframe src="https://codepen.io/johnnytsai81/embed/GRLZrzv?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;ScrollTrigger是利用滑鼠滾動來控制動畫的套件，最大的賣點之一是他可以做出pin的效果，你可以自由控制什麼時候要被pin住。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-09.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 i</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Animation" scheme="https://johnnytsai81.github.io/tags/Animation/"/>
    
  </entry>
  
  <entry>
    <title>用GSAP製作網站特效（ㄧ）基礎篇</title>
    <link href="https://johnnytsai81.github.io/Plugin/15_gsap-1/"/>
    <id>https://johnnytsai81.github.io/Plugin/15_gsap-1/</id>
    <published>2023-08-06T04:17:39.000Z</published>
    <updated>2024-03-10T15:53:29.450Z</updated>
    
    <content type="html"><![CDATA[<p>GSAP是一個發展相當久、專門處理動態效果的外掛。具有檔案小效能高的優點，且瀏覽器的支援度高，適合應用於專案中專門來處理動態效果。        </p><p><img src="/images/post/head-cv-09.jpg" alt="$cover"></p><h2 id="新手教學"><a href="#新手教學" class="headerlink" title="新手教學"></a>新手教學</h2><p>官方有提供基本的教學，加上最新官網改版後有優化了教學的內容可以作為參考。 <a href="https://gsap.com/resources/get-started/#html">官網連結</a></p><h2 id="建立動畫的第一步-Tween"><a href="#建立動畫的第一步-Tween" class="headerlink" title="建立動畫的第一步(Tween)"></a>建立動畫的第一步(Tween)</h2><p>在GSAP最基本的操作動畫方式叫Tween，首先你要設定動畫開始的狀態及動畫結束的狀態，最後設定你想要改變的物件跟動畫效果。</p><p><img src="https://images2.imgbox.com/66/71/MmYFt7zI_o.jpg"></p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// to只須寫動畫結束的狀態</span></span><br><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;#my-div&quot;</span>, &#123;<span class="attr">rotation</span>: <span class="number">27</span>, <span class="attr">x</span>: <span class="number">100</span>, <span class="attr">duration</span>: <span class="number">1</span>&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// fromTo是寫動畫開始及結束的狀態，中間使用&#123;&#125;做為區隔</span></span><br><span class="line">gsap.<span class="title function_">fromTo</span>(<span class="string">&quot;#my-div&quot;</span>, &#123;<span class="attr">opacity</span>: <span class="number">0</span>&#125;, &#123;<span class="attr">opacity</span>: <span class="number">0.5</span>, <span class="attr">duration</span>: <span class="number">1</span>&#125;);</span><br></pre></td></tr></table></figure><h4 id="方法使用的時機"><a href="#方法使用的時機" class="headerlink" title="方法使用的時機"></a>方法使用的時機</h4><ul><li><code>to</code>進入時的狀態</li><li><code>from</code>進入前的狀態</li><li><code>fromTo</code>進入前跟進入後的狀態 (較複雜的動畫建議使用)</li><li><code>set</code>等同於to但是沒有ease的效果 (可以設定初始狀態)</li></ul><p>這邊有官方的demo可以玩玩看</p><iframe src="https://codepen.io/GreenSock/embed/dydJyXw?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>動畫的行為則有很多種，大多都是跟css有所相關</p><h4 id="跟css有關的參數"><a href="#跟css有關的參數" class="headerlink" title="跟css有關的參數"></a>跟css有關的參數</h4><div class="table-outer"><table><thead><tr><th>指令</th><th>用途</th></tr></thead><tbody><tr><td>x: 50</td><td>x軸離中心點的位置，預設單位為px，等同於<code>transform: translateX(...px)</code></td></tr><tr><td>y: 50</td><td>y軸離中心點的位置，預設單位為px，等同於<code>transform: translateY(...px)</code></td></tr><tr><td>xPercent: 50</td><td>x軸離中心點的位置，預設單位為%，等同於<code>transform: translateX(...%)</code></td></tr><tr><td>yPercent: 50</td><td>y軸離中心點的位置，預設單位為%，等同於<code>transform: translateY(...%)</code></td></tr><tr><td>autoAlpha: 0 (opacity: 0)</td><td>透明度</td></tr><tr><td>display: "block"</td><td>佈局</td></tr><tr><td>scale: 2</td><td>放大，等同於<code>transform: scale(...)</code></td></tr><tr><td>rotation: 90</td><td>旋轉，等同於<code>transform: rotate(...)</code></td></tr><tr><td>repeat: -1</td><td>動畫重複次數，如果設定<code>-1</code>則為無限循環播放</td></tr><tr><td>marginLeft: 20</td><td>等同於<code>margin-left:...px</code></td></tr><tr><td>backgroundColor: "#ffffff"</td><td>背景顏色</td></tr><tr><td>duration: 1</td><td>動畫執行秒數</td></tr><tr><td>ease: "power1.out"</td><td>動畫轉場速率，必須設定動畫轉場時間才會作用。參數有兩個，EX:<code>Sine.easeInOut</code>) 更多的選擇可以參考<a href="https://gsap.com/resources/getting-started/Easing/">官方文件</a>。</td></tr></tbody></table></div><h4 id="特殊的參數"><a href="#特殊的參數" class="headerlink" title="特殊的參數"></a>特殊的參數</h4><div class="table-outer"><table><thead><tr><th>指令</th><th>用途</th></tr></thead><tbody><tr><td>stagger: 0.1</td><td>每一個被選取物件間隔的動畫時間，如果覺得很難懂也有<a href="https://gsap.com/resources/getting-started/Staggers/">官方文件</a>專為這個參數做介紹</td></tr><tr><td>force3D: false</td><td>預設為true(當使用<code>scale</code>時safari會把他像素化，如果改成<code>false</code>可以避免使用3D運算，畢竟safari在z軸上問題多多，但2D會讓CPU做較多的運算)</td></tr></tbody></table></div><div class="admonition info"><p class="admonition-title">tip</p><p>跟長度有關的參數預設的單位都是px，如果想要不同的單位則需要加上引號。<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="attr">x</span>: <span class="number">200</span>, <span class="comment">// 一般的寫法</span></span><br><span class="line"><span class="attr">x</span>: <span class="string">&quot;+=200&quot;</span> <span class="comment">// 相對位置的寫法</span></span><br><span class="line"><span class="attr">x</span>: <span class="string">'40vw'</span>, <span class="comment">// 特殊單位的寫法</span></span><br><span class="line"><span class="attr">x</span>: <span class="function">() =&gt;</span> <span class="variable language_">window</span>.<span class="property">innerWidth</span> / <span class="number">2</span>, <span class="comment">// 使用函式計算的方法</span></span><br></pre></td></tr></table></figure></p></div><h2 id="回調函式"><a href="#回調函式" class="headerlink" title="回調函式"></a>回調函式</h2><p>gsap可以設定回調函式，以便你在動畫的過程中進行操作</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">gsap.<span class="title function_">to</span>(<span class="string">&quot;#my-div&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">rotation</span>: <span class="number">27</span>, </span><br><span class="line">    <span class="attr">x</span>: <span class="number">100</span>, </span><br><span class="line">    <span class="attr">duration</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">onComplete</span>: myFunction,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>利用onComplete的回調函式，你就可以在動畫執行完畢後進行後續的操作。</p><div class="table-outer"><table><thead><tr><th>指令</th><th>用途</th></tr></thead><tbody><tr><td>onComplete</td><td>完成時調用</td></tr><tr><td>onStart</td><td>開始時調用</td></tr><tr><td>onUpdate</td><td>每次動畫更新時調用</td></tr><tr><td>onRepeat</td><td>每次動畫重複時調用</td></tr></tbody></table></div><p>除此之外，gsap也提供了控制動畫的函式，像是開始start()、暫停pause()、倒轉播放reverse()、回到開始狀態restart()，可以藉此快速建立所需的功能，增加互動性甚至是動態的豐富度。</p><iframe src="https://codepen.io/GreenSock/embed/OJLgdyg?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><h2 id="RWD設定"><a href="#RWD設定" class="headerlink" title="RWD設定"></a>RWD設定</h2><p>在不同的裝置你可能會需要不同的動畫效果(通常是調整移動的距離)，官方有給一個matchMedia的函式，你可以自行設定斷點再用三元去做判斷。</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">let</span> mm = gsap.<span class="title function_">matchMedia</span>();</span><br><span class="line">mm.<span class="title function_">add</span>(</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// 設定斷點</span></span><br><span class="line">        <span class="attr">isMobile</span>: <span class="string">&quot;(max-width: 1200px)&quot;</span>,</span><br><span class="line">        <span class="attr">isPad</span>: <span class="string">&quot;(min-width: 1201px)&quot;</span>,</span><br><span class="line">        <span class="attr">isNotebook</span>: <span class="string">&quot;(min-width: 1400px)&quot;</span>,</span><br><span class="line">        <span class="attr">isComputer</span>: <span class="string">&quot;(min-width: 1600px)&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="function">(<span class="params">context</span>) =&gt;</span> &#123;</span><br><span class="line">    </span><br><span class="line">        <span class="keyword">let</span> &#123; isMobile, isPad, isNotebook, isComputer &#125; = context.<span class="property">conditions</span>;</span><br><span class="line">        gsap.<span class="title function_">to</span>(<span class="string">&quot;.windmill&quot;</span>, &#123;</span><br><span class="line">    <span class="attr">rotation</span>: <span class="number">360</span>,</span><br><span class="line">            <span class="attr">duration</span>: isPad ? <span class="number">7.2</span> : <span class="number">3.6</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="套件"><a href="#套件" class="headerlink" title="套件"></a>套件</h2><p>如果你想完成一個簡單的動畫，上面的介紹便可以滿足你的需求。但是當你想要做一個很複雜的動畫，那你就會需要安裝其他套件。套件有分免費的跟需要付費的，我個人覺得免費版就很夠用了，如果有需要付費版的功能也可以找其他套件來代替。</p><p><img src="https://images2.imgbox.com/f3/c8/KD0a6XCs_o.jpg"></p><p>下一篇會介紹我最常用到的ScrollTrigger，也是最能體現GSAP強大之處的套件。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;GSAP是一個發展相當久、專門處理動態效果的外掛。具有檔案小效能高的優點，且瀏覽器的支援度高，適合應用於專案中專門來處理動態效果。        &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-09.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Animation" scheme="https://johnnytsai81.github.io/tags/Animation/"/>
    
  </entry>
  
  <entry>
    <title>ALPHA Camp 學期3 自學經驗回顧</title>
    <link href="https://johnnytsai81.github.io/Courses/14_alpha-camp-3/"/>
    <id>https://johnnytsai81.github.io/Courses/14_alpha-camp-3/</id>
    <published>2023-01-08T04:49:39.000Z</published>
    <updated>2023-01-08T07:50:22.920Z</updated>
    
    <content type="html"><![CDATA[<p>在AC上課也過了快半年，終於在這週終於結業了，感覺這半年學的比我工作兩年學的東西還多了好多  </p><p><img src="/images/post/head-cv-07.jpg" alt="$cover"></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>學期3是我壓力最大的一段過程，因為剛到新公司有很多新的東西需要學習跟適應。一開始我本來還打算先過幾個月比較有空閒再上學期3，沒想到要獲得獎學金的規則是必須要一氣呵成全部上完 😅，但是想想也沒有錯程式太久沒碰是會忘記的，因為中間有休息一個月導致我有些JS語法也忘記了還要回去複習一下。</p><p>學期3最大的上課模式跟之前相差滿多的，比較偏向正常工程師學習新的東西的流程，會先看<a href="https://beta.reactjs.org/learn">官方文件</a>了解基本功能跟使用方法，如果在應用上有看不懂或是卡關的地方則看看別人寫的文章，補強自己漏掉的一些觀念。但是對於邊上班邊學習的我有滿大的時間壓力，同時要理解文件的觀念跟完成當周的作業，所以變成我沒有太多時間找其他參考資料深入理解，如果能時光能倒轉我應該會想加入共讀小組，大家一起分享實用的文章應該可以節省不少search的時間。</p><p><img src="https://images2.imgbox.com/0b/cc/jClmQGlm_o.png"><br><em>React的官方文件</em></p><h2 id="前端框架REACT"><a href="#前端框架REACT" class="headerlink" title="前端框架REACT"></a>前端框架REACT</h2><p>現在前端框架已經是前端工程師必備的技能了，上完學期3我才算真正了解為什麼需要前端框架。前端框架可以提升開發效率、降低維護難度的開發架構。因為框架把整個網頁拆分，並且把重複的元件重複引用，如果你做的元件耦合度不高也能讓你的網頁在進行修改時不會牽一髮而動全身，所以比起傳統用JS修改DOM的作法更考驗工程師如何寫出好的程式品質了 🤣</p><p>其實學完REACT覺得攥寫的方法很符合處女座的我，只要能把程式整理整整齊齊的我的心情就會很愉悅，前端框架可以達到資料跟UI完全分離讓畫面變得很乾淨，但是相對的拆分細的缺點是檔案變很多個，雖然JSX有支援按下command按鈕可以連到那個元件的功能，但是有時候還是會眼花，也許久了就會慢慢適應了吧。</p><p>遺憾的是我現在的公司是用Vue來做開發，所以我REACT只能先學到這裡之後再來研究更深入的功能跟外掛，公司已經在追問我什麼時候會學完Vue了 😅</p><h2 id="Simple-Twitter"><a href="#Simple-Twitter" class="headerlink" title="Simple Twitter"></a>Simple Twitter</h2><p>Simple Twitter也讓我體驗到前後端分離的協作過程，算是非常寶貴的一次實戰體驗。其實在Twitter專案之前我一直很擔心我的能力是否能否完成，因為前面幾週的作業我都是在星期天晚上死線前交出來，沒有時間再回頭複習，經過這次參賽的經驗給我滿大的信心，覺得一個專案的開發沒有我想像中的那麼困難，當然也很感謝我的組員在我卡關時及時地給予支援，如果只有我一個人要完成應該很困難。</p><blockquote><p>專案的詳細的介紹可以看<a href="../13_alpha-camp-2">這篇</a></p></blockquote><h2 id="結語"><a href="#結語" class="headerlink" title="結語"></a>結語</h2><p>這次的畢業代表的不是結束，是一個新的開始。雖然在上課的時候覺得好痛苦，沒辦法出去玩或是玩遊戲，但上完課後就要靠自己督促自己不斷的學習，畢竟軟體工程師的宿命就是要不斷地學新的工具、新的方法，技術實在是進步的太快了。但是我很感謝AC在這半年來不僅學會了程式，也學習到很多程式相關的軟知識跟很強調基礎觀念，有好的觀念可以在未來的學習過程事半功倍，能理解為什麼要學這個工具解決了哪些痛點。</p><p>也希望跟我一樣在AC學習的同學們都能在新的一年轉職成功，看得出來大家為了轉職都付出了很大的努力 💪💪💪</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;在AC上課也過了快半年，終於在這週終於結業了，感覺這半年學的比我工作兩年學的東西還多了好多  &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-07.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=&quot;#前言&quot;</summary>
      
    
    
    
    <category term="Courses" scheme="https://johnnytsai81.github.io/categories/Courses/"/>
    
    
    <category term="ALPHA-Camp" scheme="https://johnnytsai81.github.io/tags/ALPHA-Camp/"/>
    
  </entry>
  
  <entry>
    <title>Simple Twitter專案開發心得</title>
    <link href="https://johnnytsai81.github.io/Courses/13_alpha-camp-2/"/>
    <id>https://johnnytsai81.github.io/Courses/13_alpha-camp-2/</id>
    <published>2022-12-31T12:49:39.000Z</published>
    <updated>2023-01-01T14:30:33.079Z</updated>
    
    <content type="html"><![CDATA[<p>Simple Twitter是一個為期兩週的專案，功能大致像是簡單版的Twitter，使用者可以進行推文、發文、追蹤、點讚及查看其他使用的資料。</p><p><img src="/images/post/head-cv-07.jpg" alt="$cover"></p><h2 id="功能及畫面介紹"><a href="#功能及畫面介紹" class="headerlink" title="功能及畫面介紹"></a>功能及畫面介紹</h2><p><img src="https://images2.imgbox.com/9a/99/V1INUQay_o.png"><br><em>主畫面-你可以進行推文或是瀏覽別人的推文</em></p><p><img src="https://images2.imgbox.com/6e/ab/1aiio2jo_o.png"><br><em>回覆頁面-你可以看到別人回覆也可以進行回覆</em></p><p><img src="https://images2.imgbox.com/a6/8b/P28xXJV5_o.png"><br><em>後台頁面-你可以看到每個人的推文總數及被點讚的總數</em></p><p>詳情可見 <a href="https://github.com/johnnytsai81/simple-twitter">Github專案連結</a> </p><h2 id="開發及協作過程"><a href="#開發及協作過程" class="headerlink" title="開發及協作過程"></a>開發及協作過程</h2><p>本專案是使用前後端分離的方式開發，前端使用React框架、後端使用SQL+Heroku雲端平台。其實一開始我實在超級焦慮的，因為我跟另一位前端平日都要上班只有晚上跟假日有空，所以看到設計稿後很怕做不完。</p><h4 id="前端與後端的溝通"><a href="#前端與後端的溝通" class="headerlink" title="前端與後端的溝通"></a>前端與後端的溝通</h4><p>團隊在前期的溝通並沒有很順利，因為前期我不太了解後端的技術跟沒有開需求給後端的經驗，所以當後端問我API需要哪些資料時我沒辦法給肯定的答案。最後我們協調前端先自己代參數進行切版，後端先看設計稿去預想有哪些資料欄位，最後再針對有缺的資料做調整。</p><p>但是這個方法到後期發現漏的資料其實還滿多的，如果要補上資料也不是想像中那麼簡單加單筆資料進去就好，所以最後變成呼叫的API都是一大包造成載入時間過長。(P.S.這問題後來在完賽後，後端有重新設計資料庫得以解決)<br>所以一開始前端真的要好好花時間開API給後端去做設計，不然會影響網頁的載入速度～</p><h4 id="前端之間的溝通"><a href="#前端之間的溝通" class="headerlink" title="前端之間的溝通"></a>前端之間的溝通</h4><ul><li>前端的部分一開始由我先建立專案架構，也就是安裝bootstrap套件跟設定專案要求的顏色跟樣式，主要是因為bootstrap有很多預設樣式，如果一開始有設定好就不用花太多時間做覆蓋的動作。寫完後我有問另一位前端是否要講解我寫的東西，但是他說不用他會自己看，不過我事後發現他寫的程式都沒有用到我設定的variable有點可惜。</li><li>我們有討論css使用styled-components的寫法，我的作法是把styled的程式寫在元件裡面，另一外前端是習慣共用styled，並且把他集中放在一個檔案裡面，不一樣的地方在用style去複寫。但在一開始沒有發現我們作法上的差異，是切版幾乎快完成時才發現的，所以最後變成兩種完全截然不同的寫法。</li><li>因為我們沒有太多時間去分配工作，所以我們的工作內容分得很開，我是負責前台頁面，另一位前端負責後台及登入頁面。但是還是發生了程式被另外一位組員動過然後功能壞掉的情況發生，只能說前端在協作分配上有點不太容易(因為時程太趕也沒認真的看完PR每一行的內容)。</li></ul><h4 id="專案的收穫"><a href="#專案的收穫" class="headerlink" title="專案的收穫"></a>專案的收穫</h4><ul><li>了解async跟await的重要性。因為之前的作業練習都只有串一隻API，所以不會有先後順序的問題，現在串到3、4隻時就要顧慮到是否要等全部都載入時再執行，否則就會變成空白頁給你看。</li><li>了解DOM跟API的先後載入關係。DOM普遍來說會比API的接收速度還要快，所以當你的元件有取值的動作要先做一個判斷，判斷元件的API已經載入再載入DOM，才不會因為取null裡面的值而產生錯誤。</li><li>活用Provider進行資料的控制。在登入時會使用Provider儲存使用者的資料供全站使用，或是用Provider搭配useEffect做一個連動更新的判斷，如果按下按鈕指定的區域也會重新render新的結果。</li><li>了解在UX上的設計細節。再點按資料儲存的時候，需要有儲存中的設計避免使用者以為沒有反應而點按多次。</li></ul><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>最後很不可思議的，在兩週的時間做出來了🫣🫣🫣。時程上我花了2天做前置溝通及撰寫文件、6天做切版、1天做登入的provider(包括token及登入者的資料)、3天串API、1天做功能、1天修正驗收發現的bug。<br>我卡最久的地方是做個人資料儲存的切版，這個區塊需要上傳文字跟圖片。</p><p><img src="https://images2.imgbox.com/ca/e6/hEHnTCDP_o.png"><br><em>個人頁面-你可以看到自己的推文或是修改個人資料</em></p><p>一開始是使用dummy data去測試，然後回傳JSON資料確認是否有正確執行。然後會發生一個奇妙的bug就是第一次儲存的資料是儲存前的資料，第二次儲存的資料是第一次儲存的資料…以此類推。搞了很久都找不出原因，後來請教助教後，助教建議我等串完API再來看看有沒有問題，結果真的串完API後就這問題就消失了，超級神奇!!</p><p><img src="https://images2.imgbox.com/60/eb/L0doL8j1_o.png"></p><p>但串完API又發現了新的問題，就是圖片無法儲存!!那是因為本機端上傳的檔案必須要轉成form的格式給後端，後端才有辦法做處理。所以在取得上傳檔案需要有兩種類型的檔案，第一個是使用objectURL預覽上傳圖片的本機圖片，第二個是event.target.file拿來上傳給後端使用。</p><p>做到這邊還有一個問題需要解決，就是我一開始取得資料是使用登入的provider，我修改個人資料是儲存到API的user資料。也就是說我在更新完資料後必須要切換到新的route，才能接收到新的provider資料。所以我最後要改成抓取指定user的資料而不是用provider的資料。但是現在回頭想想這做法還滿笨的，我只要在provider裡面的useEffect增加一個變數，在點按儲存按鈕的時候也會更新provider就好了。</p><p><img src="https://images2.imgbox.com/f3/e6/zO2rL3Xs_o.png"></p><p>最後的最後我覺得這兩週學到了很多知識也累積了新的經驗，真的很感謝小組的每位成員相互配合才能順利完成這次的專案 😃😃😃</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Simple Twitter是一個為期兩週的專案，功能大致像是簡單版的Twitter，使用者可以進行推文、發文、追蹤、點讚及查看其他使用的資料。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-07.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
</summary>
      
    
    
    
    <category term="Courses" scheme="https://johnnytsai81.github.io/categories/Courses/"/>
    
    
    <category term="ALPHA-Camp" scheme="https://johnnytsai81.github.io/tags/ALPHA-Camp/"/>
    
  </entry>
  
  <entry>
    <title>用JS抓取元素(Javascript篇)</title>
    <link href="https://johnnytsai81.github.io/JavaScript/12_js_find/"/>
    <id>https://johnnytsai81.github.io/JavaScript/12_js_find/</id>
    <published>2022-09-22T04:17:39.000Z</published>
    <updated>2022-12-31T13:10:19.463Z</updated>
    
    <content type="html"><![CDATA[<p>最近已經慢慢習慣用JS寫程式，在看到JQuery突然覺得有點陌生所以才想寫這篇文章複習一下兩者的差別</p><p><img src="/images/post/head-cv-08.jpg" alt="$cover"></p><p>在初學JQuery時期覺得抓取DOM是很容易的事情，畢竟JQuery把很多很繁雜的過程都簡化了，只要用css的寫法程式都能很順利的完成，但是在JS卻不是這麼一回事…</p><h2 id="document-getElementById"><a href="#document-getElementById" class="headerlink" title="document.getElementById"></a>document.getElementById</h2><p>如果元素有<code>id</code>特性，那<code>document.getElementById</code>是最常用，且不會出意外的方法了。</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&#x27;elem&#x27;</span>&gt;</span>Element<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">  <span class="comment">// 抓取該元素</span></span></span><br><span class="line"><span class="language-javascript">  <span class="keyword">const</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;elem&#x27;</span>);</span></span><br><span class="line"><span class="language-javascript"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure><div class="admonition warning"><p class="admonition-title">只有 document.getElementById，沒有 xxx.getElementById</p><p><code>getElementById</code>的方法只能用在document上，它會查找整個文件並尋找指定的<code>id</code></p></div><hr><h2 id="querySelectorAll"><a href="#querySelectorAll" class="headerlink" title="querySelectorAll"></a>querySelectorAll</h2><p>最通用的方法是<code>elem.querySeletorAll()</code>，他會抓到所有跟css選擇器匹配的所有元素（偽元素也可以歐！）</p><h4 id="範例-所有符合條件的class會變色"><a href="#範例-所有符合條件的class會變色" class="headerlink" title="範例:所有符合條件的class會變色"></a>範例:所有符合條件的class會變色</h4><iframe src="https://codepen.io/johnnytsai81/embed/dyezKwK?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition warning"><p class="admonition-title">在使用querySelectorAll需要搭配for迴圈或陣列</p><p>如果你直接寫 <code>elem.style.backgroundColor = &quot;red&quot;</code> 會發生 <strong>Uncaught TypeError: Cannot set properties of undefined (setting 'color')</strong> 的錯誤。</p><p>如果不明白的話，先使用console檢查看看原因<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> elem = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'ul &gt; li:last-child'</span>)</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(elem)</span><br></pre></td></tr></table></figure><img src="https://images2.imgbox.com/44/20/b2fvIvqI_o.png" alt="" /></p><p>這時你會發現格式是NodeList(類陣列)，NodeList狀態下只能抓到指定順位無法抓取多個(EX:<code>elem[0].style.backgroundColor = &quot;red&quot;</code>)</p><p>所以我們要使用Array.from()轉換成陣列才行<figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">const</span> elem = <span class="title class_">Array</span>.<span class="title function_">from</span>(<span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(<span class="string">'ul &gt; li:last-child'</span>))</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(elem)</span><br></pre></td></tr></table></figure><img src="https://images2.imgbox.com/1c/31/JVVFkHEd_o.png" alt="" /></p><p>最後在用<code>forEach()</code>問題就解決了 🙌</p></div><hr><h2 id="matches"><a href="#matches" class="headerlink" title="matches"></a>matches</h2><p><code>matches()</code>不會抓取任何內容，它只會檢查是否符合指定的css並傳回<code>true</code>或<code>false</code>，所以他很適合放在判斷式裡。</p><h4 id="範例-有active的class會變色"><a href="#範例-有active的class會變色" class="headerlink" title="範例:有active的class會變色"></a>範例:有active的class會變色</h4><iframe src="https://codepen.io/johnnytsai81/embed/poVrxvX?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><hr><h2 id="closest"><a href="#closest" class="headerlink" title="closest"></a>closest</h2><p><code>closest()</code>會自動選擇與自己最近的父元素(包含自身)且符合條件的元素，我個人覺得搭配按鈕監聽是很好用的一種方法，因為監聽會包含所有子元素有時候會讓<code>event.target</code>的位置難以控制。</p><h4 id="範例-點按button的任何區塊都會加active的class在button上"><a href="#範例-點按button的任何區塊都會加active的class在button上" class="headerlink" title="範例:點按button的任何區塊都會加active的class在button上"></a>範例:點按button的任何區塊都會加active的class在button上</h4><iframe src="https://codepen.io/johnnytsai81/embed/qBYXJLx?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><hr><h2 id="getElementsBy"><a href="#getElementsBy" class="headerlink" title="getElementsBy*"></a>getElementsBy*</h2><p>這種方法已經不太常用，因為querySelector功能更強大。但是getElementsBy*可以抓到動態元素querySelector只能抓靜態，所以有時候還是得要用它才行。</p><h4 id="範例-用getElementsBy-可以抓到第二個div"><a href="#範例-用getElementsBy-可以抓到第二個div" class="headerlink" title="範例:用getElementsBy*可以抓到第二個div"></a>範例:用getElementsBy*可以抓到第二個div</h4><iframe src="https://codepen.io/johnnytsai81/embed/bGMowVR?height=300&theme-id=dark&default-tab=html,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>如果使用querySelectorAll只能抓到第一個div，可以把註解拿掉看看結果</p><div class="admonition warning"><p class="admonition-title">它回傳的是一個集合(HTMLCollection)，不是一個元素</p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// Error</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">'input'</span>).<span class="property">value</span> = <span class="number">5</span>;</span><br></pre></td></tr></table></figure>這是行不通的，因為它需要的是一個input的<strong>集合</strong>，而不是給其中一個元素。所以我們應該要透過迴圈或是給它對應的索引值來獲取元素，如下所示：</p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 指定的索引值</span></span><br><span class="line"><span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">'input'</span>)[<span class="number">0</span>].<span class="property">value</span> = <span class="number">5</span>;</span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><p>結果展示<iframe src="https://codepen.io/johnnytsai81/embed/OJZxdjw?height=300&amp;theme-id=dark&amp;default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe></p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 迴圈</span></span><br><span class="line"><span class="keyword">const</span> elem = <span class="variable language_">document</span>.<span class="title function_">getElementsByTagName</span>(<span class="string">'input'</span>)</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; elem.<span class="property">length</span>; i++) {</span><br><span class="line">  elem[i].<span class="property">value</span> = i + <span class="number">1</span></span><br><span class="line">}</span><br></pre></td></tr></table></figure></p><p>結果展示<iframe src="https://codepen.io/johnnytsai81/embed/eYrGbMb?height=300&amp;theme-id=dark&amp;default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe></p></div><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>有6個主要的方法可以在DOM中搜尋元素節點</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>搜尋方式</th><th>抓取動態元素</th></tr></thead><tbody><tr><td>querySelector</td><td>CSS-selector</td><td>-</td></tr><tr><td>querySelectorAll</td><td>CSS-selector</td><td>-</td></tr><tr><td>getElementById</td><td>id</td><td>-</td></tr><tr><td>getElementsByName</td><td>name</td><td>✔</td></tr><tr><td>getElementsByTagName</td><td>tag</td><td>✔</td></tr><tr><td>getElementsByClassName</td><td>class</td><td>✔</td></tr></tbody></table></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;最近已經慢慢習慣用JS寫程式，在看到JQuery突然覺得有點陌生所以才想寫這篇文章複習一下兩者的差別&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-08.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;p&gt;在初學JQuery時期覺得抓取DOM是</summary>
      
    
    
    
    <category term="JavaScript" scheme="https://johnnytsai81.github.io/categories/JavaScript/"/>
    
    
  </entry>
  
  <entry>
    <title>ALPHA Camp 2-2~2-3 自學經驗回顧</title>
    <link href="https://johnnytsai81.github.io/Courses/11_alpha-camp-1/"/>
    <id>https://johnnytsai81.github.io/Courses/11_alpha-camp-1/</id>
    <published>2022-09-21T04:17:39.000Z</published>
    <updated>2023-01-08T03:58:45.524Z</updated>
    
    <content type="html"><![CDATA[<p>一轉眼我已經上完ALPHA camp第二學期的課程了，這段期間也覺得自己已經慢慢往前端工程師的方向前進了</p><p><img src="/images/post/head-cv-07.jpg" alt="$cover"></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我現在的職位是網頁設計師，工作內容涵蓋了UI設計跟前端程式，我也對這些領域十分有興趣，但網頁設計的職涯發展會十分受限，所以我得在UI&#x2F;UX設計跟前端工程師選一條路專精。</p><p>有一天公司的同事跟我說，他上過AC的課程後決定要辭職專心衝刺😳，所以我抱著好奇的心情開始試讀AC的課程…</p><h2 id="從JQuery轉成JS"><a href="#從JQuery轉成JS" class="headerlink" title="從JQuery轉成JS"></a>從JQuery轉成JS</h2><p>AC的課程希望我們用原生的JS撰寫，一來是比較能理解程式的運作過程及原理(畢竟JQuery省略很多步驟)，二來是在學習新套件會比較快上手(套件多半還是用JS語法撰寫)。</p><p>因為我大部分都用JQuery寫程式，再學了JS才發現JQuery真的是懶人在用的，因為JS的寫法真的很繁瑣…(常常抓一個DOM抓老半天🥲)，JQuery只要一行程式就解決了。</p><p>這時就要先從資料類型開始理解，才會理解為什麼會發生意外的錯誤。更多詳細介紹可以參考這篇文章:</p><blockquote><p><a href="../12_js_find">用JS抓取元素(Javascript篇)</a></p></blockquote><h2 id="觀念的建立"><a href="#觀念的建立" class="headerlink" title="觀念的建立"></a>觀念的建立</h2><p>一個好的前端工程師的會注重他的程式碼品質，不單單只是把功能做出來而已。</p><p>好的程式碼所要具備的條件:</p><ol><li>有清楚的註解，能讓之後維護的工程師能快速了解程式架構or位置 (我曾經維護過沒有任何註解的程式，或是程式的排列順序跳來跳去的碼…)</li><li>不寫重複行為的程式，也就是符合DRY原則 (Do not Repeat Yourself)</li><li>擴充性高的程式。因為程式不太可能在一開始就確定全部的功能，擴充性高的程式不會因為新增一個功能就必須大改程式</li><li>可讀性高的程式，命名上能讓團隊的其他成員大概猜出用途。但是這需要團隊制定好命名慣例(naming convention)，像是<strong>OOCSS(Object oriented CSS)、SMACSS (Scalable and Modular Architecture for CSS)、BEM (Block Element Modifier)</strong></li></ol><p>這也是AC很強調的點，如果沒有做好這些動作有可能就會產生技術債，成為大家口中很雷的工程師 😂</p><h2 id="實戰面試題目"><a href="#實戰面試題目" class="headerlink" title="實戰面試題目"></a>實戰面試題目</h2><p>上了課最重要的還是…要拿到心儀公司的offer對吧 😏<br>因為面試通常沒有太多時間請你實做，所以面試都會考觀念題比較多(如果沒考試的公司那還是別去了，有很高的機率是雷)，所以不能只是埋頭苦幹做作品，也要花點時間去了解程式運作的原理。AC也有題庫跟模擬面試的工作坊，測驗你是否有耐心的去了解觀念。但是也可以多找找題庫補足自己的缺漏，觀念確立後再進行進階的程式會事半功倍歐！</p><blockquote><p><a href="https://github.com/lydiahallie/javascript-questions">JS題庫</a></p></blockquote><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>上課的這兩個月裡，我的生活起了很多變化，經歷了辭職跟找到兩份工作。股神巴菲特說過：「最好的投資就是投資你自己。」所以我很滿意自己所做的決定，期待之後第三學期又有什麼新挑戰 🚀🚀🚀</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;一轉眼我已經上完ALPHA camp第二學期的課程了，這段期間也覺得自己已經慢慢往前端工程師的方向前進了&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-07.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;前言&quot;&gt;&lt;a href=</summary>
      
    
    
    
    <category term="Courses" scheme="https://johnnytsai81.github.io/categories/Courses/"/>
    
    
    <category term="ALPHA-Camp" scheme="https://johnnytsai81.github.io/tags/ALPHA-Camp/"/>
    
  </entry>
  
  <entry>
    <title>用Swiper.js客制化輪播圖（二）變數應用及略縮圖</title>
    <link href="https://johnnytsai81.github.io/Plugin/10_Swiper-2/"/>
    <id>https://johnnytsai81.github.io/Plugin/10_Swiper-2/</id>
    <published>2022-07-19T04:17:39.000Z</published>
    <updated>2022-12-31T13:02:44.504Z</updated>
    
    <content type="html"><![CDATA[<p>第二篇主要重點在如何應用變數跟監聽去達到動態效果，以及如何建立略縮圖及做樣式上的變化            </p><p><img src="/images/post/head-cv-06.jpg" alt="$cover"></p><h2 id="開啟監聽"><a href="#開啟監聽" class="headerlink" title="開啟監聽"></a>開啟監聽</h2><p>監聽可以讓程式在某一個時機點執行程式，是一個很好用的功能。</p><iframe src="https://codepen.io/johnnytsai81/embed/YzaZVGY?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition info"><p class="admonition-title">開啟監聽可以有兩種寫法（以slideChange為例）</p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 寫法一</span></span><br><span class="line"><span class="keyword">var</span> swiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;#mySwiper&quot;</span>, {</span><br><span class="line">    <span class="attr">on</span>: {</span><br><span class="line">        <span class="attr">slideChange</span>: <span class="keyword">function</span>(<span class="params"></span>){</span><br><span class="line">            ...</span><br><span class="line">        }</span><br><span class="line">    },</span><br><span class="line">});</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 寫法二</span></span><br><span class="line"><span class="keyword">var</span> swiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;#mySwiper&quot;</span>, {</span><br><span class="line">    ...</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line">swiper.<span class="title function_">on</span>(<span class="string">'slideChange'</span>, <span class="keyword">function</span> (<span class="params"></span>) {</span><br><span class="line">    ...</span><br><span class="line">});</span><br></pre></td></tr></table></figure></p><ul><li><code>#mySwiper</code>可以自己替換成想控制的容器名稱</li><li>兩種寫法的差別是在寫法一必須要全部集中在一起寫完，寫法二是可以分開並搭配別的函式</li></ul></div><p>這邊補充一下常用的監聽事件:</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>用途</th></tr></thead><tbody><tr><td>init</td><td>在啟動swiper的時候執行程式（也就是載入完成的時候執行）</td></tr><tr><td>slideChange / slideChangeTransitionStart</td><td>在進行滑動行為時執行程式</td></tr><tr><td>slideChangeTransitionEnd</td><td>滑動過場結束時執行程式</td></tr><tr><td>resize</td><td>改變視窗大小時執行（需要加上 <code>resizeObserver: true</code>）</td></tr><td>click / tap / doubleTap</td><td>點擊輪播圖時會執行程式</td></tr></table></div><hr><h2 id="下達命令"><a href="#下達命令" class="headerlink" title="下達命令"></a>下達命令</h2><p>知道如何監聽後，便要下達指令告訴程式應該做哪一些動作。這時候我們必須要了解如何用屬性去抓取我們要的資料:</p><div class="table-outer"><table><thead><tr><th>名稱(mySwiper為該swiper的變數名稱)</th><th>用途</th></tr></thead><tbody><tr><td>mySwiper.$el</td><td>抓到<code>.swiper</code>的位置</td></tr><tr><td>mySwiper.params</td><td>修改該swiper的參數</td></tr><tr><td>mySwiper.$wrapperEl</td><td>抓到<code>.swiper-wrapper</code>的位置</td></tr><tr><td>mySwiper.slides</td><td>抓到<code>.swiper-slide</code>的位置</td></tr><tr><td>mySwiper.activeIndex</td><td>抓取顯示的幻燈片的序列，從0開始計算</td></tr><tr><td>mySwiper.realIndex</td><td>抓取顯示的幻燈片的序列，從0開始計算。不包含loop模式下所複製出來的幻燈片</td></tr><tr><td>mySwiper.length</td><td>抓取幻燈片的總數量</td></tr></table></div><h4 id="範例一-動態添加幻燈片的編號"><a href="#範例一-動態添加幻燈片的編號" class="headerlink" title="範例一:動態添加幻燈片的編號"></a>範例一:動態添加幻燈片的編號</h4><iframe src="https://codepen.io/johnnytsai81/embed/GRxWEzo?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li>把監聽加屬性組合在一起，便可以輕鬆完成滑動時自動更新的效果</li><li>這邊注意要使用<code>realIndex</code>去抓取，否則loop產生的幻燈片數字會抓取錯誤</li><li>將數字輸出html可以用<code>attr()</code>的方法最後用css代入，也可以用<code>html()</code>直接覆蓋</li></ul><h4 id="範例二-當幻燈片數量不足滿版時，自動置中"><a href="#範例二-當幻燈片數量不足滿版時，自動置中" class="headerlink" title="範例二:當幻燈片數量不足滿版時，自動置中"></a>範例二:當幻燈片數量不足滿版時，自動置中</h4><iframe src="https://codepen.io/johnnytsai81/embed/poLPjjb?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li>屬性也可以拿來應用在判斷式上，這邊運用到<code>removeSlide()</code>去做動態刪除的動作，括號裡面要填入想刪除的幻燈片，0代表第一張幻燈片</li><li>這邊利用<code>swiper1.slides.length</code>抓取幻燈片的總數量，<code>swiper1.params.slidesPerView</code>抓取幻燈片滿版所需的數量，最後再去做比較</li></ul><hr><h2 id="略縮圖"><a href="#略縮圖" class="headerlink" title="略縮圖"></a>略縮圖</h2><p>略縮圖就是一次顯示多個小圖讓使用者能大概了解有哪些圖片，官方的命名是thumbsSwiper</p><iframe src="https://codepen.io/johnnytsai81/embed/oNqwXvb?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition info"><p class="admonition-title">thumb連動的方法</p><p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'swiper-top'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mySwiper1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;thumbs&quot;</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 略縮圖</span></span><br><span class="line"><span class="keyword">var</span> galleryThumbs = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">'#galleryThumbs'</span>,{</span><br><span class="line">    ...</span><br><span class="line">});</span><br><span class="line"></span><br><span class="line"><span class="comment">// 主要的輪播圖</span></span><br><span class="line"><span class="keyword">var</span> galleryTop = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;#galleryTop&quot;</span>, {</span><br><span class="line">    <span class="attr">thumbs</span>: {</span><br><span class="line">        <span class="attr">swiper</span>: galleryThumbs,</span><br><span class="line">    }</span><br><span class="line">});</span><br></pre></td></tr></table></figure></p><ul><li><code>#galleryTop</code>是主要的輪播圖，<code>#galleryThumbs</code>是略縮圖</li><li>只需在輪播圖輸入<code>thumbs</code>參數，便可以進行連動的動作</li><li>略縮圖的程式碼必須擺在主輪播圖的前面，否則不會連動</li></ul></div><h4 id="範例一-優化UI設計"><a href="#範例一-優化UI設計" class="headerlink" title="範例一:優化UI設計"></a>範例一:優化UI設計</h4><iframe src="https://codepen.io/johnnytsai81/embed/PoRyXqL?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>我們可以發現基礎的設定對使用者不太友善，可以運用剛剛提到的監聽及CSS來改善它</p><ul><li>顯示當前的swiper thumb (在<code>.swiper-slide-thumb-active</code>新增樣式)</li><li>當快播到最後一張輪播圖時，會自己換頁 (監聽主輪播圖並在滑動時發動，需加上<code>centeredSlides: true</code>, <code>centeredSlidesBounds: true</code>)</li></ul><h4 id="範例二-改變thumb的排列方式"><a href="#範例二-改變thumb的排列方式" class="headerlink" title="範例二:改變thumb的排列方式"></a>範例二:改變thumb的排列方式</h4><iframe src="https://codepen.io/johnnytsai81/embed/zYWmeEe?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>你也可以把thumb改成直向排列，這種做法會比較考驗你的css切版能力。我這邊是使用flex分成左半部跟右半部，左邊放galleryTop、右邊放galleryThumbs。</p><ul><li>新增參數<code>direction</code>設為<code>vertical</code>，讓略縮圖直向排列</li><li>為了避免干擾，我把上下按鈕拿掉了</li></ul><div class="table-outer"><table><thead><tr><th>名稱</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>direction</td><td>horizontal</td><td>控制輪播圖的排列方向</td></tr></table></div><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>希望這兩篇介紹文章能讓更多想入門swiper的人能更快上手歐！如果想更深入玩不同的花樣可以在官方手冊挖掘更多～</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;第二篇主要重點在如何應用變數跟監聽去達到動態效果，以及如何建立略縮圖及做樣式上的變化            &lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-06.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;開啟監聽&quot;&gt;&lt;a h</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Slider" scheme="https://johnnytsai81.github.io/tags/Slider/"/>
    
  </entry>
  
  <entry>
    <title>用Swiper.js客制化輪播圖（ㄧ）基礎設定及轉場篇</title>
    <link href="https://johnnytsai81.github.io/Plugin/09_Swiper-1/"/>
    <id>https://johnnytsai81.github.io/Plugin/09_Swiper-1/</id>
    <published>2022-05-15T04:17:39.000Z</published>
    <updated>2022-12-31T13:02:30.099Z</updated>
    
    <content type="html"><![CDATA[<p>Swiper是一個完全免費的輪播圖外掛，很多網站都有使用它算是相當有名氣的。它有很多可調整的變數，所以坑也很多…</p><p><img src="/images/post/head-cv-06.jpg" alt="$cover"></p><h2 id="版本選擇"><a href="#版本選擇" class="headerlink" title="版本選擇"></a>版本選擇</h2><p>目前最新的版本為<a href="https://swiperjs.com/">version8</a>，在v4之後就趨於穩定沒有太大變化。而且有很熱心的<a href="https://www.swiper.com.cn/api/index.html">中文api</a>網站寫的比英文版還詳細。</p><div class="admonition warning"><p class="admonition-title">版本差異</p><p>v7後把預設的<code>.swiper-container</code>名稱改成<code>.swiper</code>這點需要注意一下</p></div><div class="admonition info"><p class="admonition-title">安裝</p><p>需要放css跟js兩個檔案，可以先用原生的css，之後再自己寫css覆蓋樣式即可。 <a href="https://cdnjs.com/libraries/Swiper">cdnjs連結</a></p></div><h2 id="基本設定"><a href="#基本設定" class="headerlink" title="基本設定"></a>基本設定</h2><p>這邊以v8為基準，建立出一個基本的輪播圖</p><h4 id="範例一-基本型"><a href="#範例一-基本型" class="headerlink" title="範例一:基本型"></a>範例一:基本型</h4><iframe src="https://codepen.io/johnnytsai81/embed/abqpovo?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition info"><p class="admonition-title">初始化Swiper</p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="keyword">var</span> swiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;#mySwiper&quot;</span>, {</span><br><span class="line">    ...</span><br><span class="line">});</span><br></pre></td></tr></table></figure></p><ul><li><code>#mySwiper</code>可以自己替換成想控制的容器名稱。如果同一頁使用多個輪播圖，那麼容器名稱不能都取一樣的</li><li>建議用變數定義Swiper實體，在日後監聽事件上會比較方便</li><li><code>...</code>是用來放Swiper的配置參數</li></ul></div><div class="admonition info"><p class="admonition-title">Swiper的基本架構寫法</p><p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mySwiper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-wrapper&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-pagination&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-button-next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-button-prev&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li><code>#mySwiper</code>是被控制的容器，要放在最外層，且要加上<code>.swiper</code>(如果你不想套用swiper內建的css就可以不加)</li><li><code>.swiper-wrapper</code>是用來包覆輪播圖的區塊，放在裡面的物件都會包覆在<code>.swiper</code>裡面不會超出</li><li><code>.swiper-slide</code>是用來放置輪播圖的區塊</li><li><code>.swiper-pagination</code>是分頁按鈕，如果想要使用必須加在html裡，且在js中把參數打開</li><li><code>.swiper-button-next</code> <code>.swiper-button-prev</code>是上一頁跟下一頁的按鈕，如果想要使用必須加在html裡，且在js中把參數打開</li></ul></div><div class="admonition info"><p class="admonition-title">Swiper按鈕的微調</p><p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">'swiper-top'</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;mySwiper&quot;</span> <span class="attr">class</span>=<span class="string">&quot;swiper&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-wrapper&quot;</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-slide&quot;</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-pagination&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-button-next&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;swiper-button-prev&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li>因為我個人不喜歡上下按鈕跟分頁按鈕混進輪播圖裡，所以我會把他們放在<code>swiper-wrapper</code>外面，最後再包一層<code>swiper-top</code>控制整個swiper的大小</li></ul></div><p>這邊補充一下使用到的swiper參數及功用:</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>slidesPerView</td><td>1</td><td>輪播圖一次顯示的幻燈片數量，也可以設定auto由畫面寬度決定一次要顯示幾個</td></tr><tr><td>spaceBetween</td><td>0</td><td>如果一次顯示多個幻燈片，幻燈片之間的間隔大小</td></tr><tr><td>breakpoints</td><td>object</td><td>因應斷點設置不同設定，如果以長度設定直接打上數字即可(EX:576 就是指視窗大於576的裝置)，也可以以長寬比例設定(EX:'@1.5' 就是指寬為長的1.5倍以上的裝置)</td></tr><tr><td>navigation</td><td>object</td><td>開啟上下頁按鈕的功能，並決定想控制的按鈕。如果名稱設定<code>.swiper-button-next</code> <code>.swiper-button-prev</code>就可以直接套用官方css的樣式。如果你在同一個頁面使用多個swiper那麽按鈕名稱就不能完全一樣，會有互相干擾的情況。</td></tr><tr><td>pagination</td><td>object</td><td>開啟分頁按鈕，使用方法跟上下頁按鈕一樣。如果名稱設定<code>.swiper-pagination</code>就可以直接套用官方css的樣式</td></tr></tbody></table></div><hr><h2 id="轉場效果設定"><a href="#轉場效果設定" class="headerlink" title="轉場效果設定"></a>轉場效果設定</h2><p>目前swiper v8有內建8種轉場效果，只要修改effect參數即可</p><h4 id="範例二-設定轉場效果-fade"><a href="#範例二-設定轉場效果-fade" class="headerlink" title="範例二:設定轉場效果-fade"></a>範例二:設定轉場效果-fade</h4><iframe src="https://codepen.io/johnnytsai81/embed/YzeQRPw?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li>在參數effect加上’fade’便可以開啟淡出效果，slidesPerView會強制變為1</li><li>如果swiper的最外層沒有指定高度且裡面的圖片都不一樣大小，有可能發生圖片重疊的情況。這時候要在fadeEffect參數加上<code>crossFade:true</code></li></ul><h4 id="範例三-設定轉場效果-coverflow"><a href="#範例三-設定轉場效果-coverflow" class="headerlink" title="範例三:設定轉場效果-coverflow"></a>範例三:設定轉場效果-coverflow</h4><iframe src="https://codepen.io/johnnytsai81/embed/xxYrmvW?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li>在參數effect加上’coverflow’便可以開啟3D翻轉效果，如果一次只想顯示一張幻燈片可以把<code>slidesPerView</code>參數加上小數點，才看得到3D的效果</li><li>如果想要調整幻燈片之間的z軸的距離跟角度，要在coverflowEffect參數加上<code>depth: 想要的距離</code>跟<code>rotate: 想要的角度</code>，數值可為正或負</li><li>如果想要調整幻燈片的變形程度，要在coverflowEffect參數加上<code>stretch: 想要的距離</code>，數值越大幻燈片靠的越近，可以用數字跟百分比單位</li><li>預設兩側的幻燈片會有陰影，如果不想要陰影在coverflowEffect參數加上<code>slideShadows: false</code>即可。如果想修改陰影可以用css覆蓋掉<code>.swiper-slide-shadow</code>的樣式</li></ul><p>這邊補充一下使用到的swiper參數及功用:</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>loop</td><td>false</td><td>讓輪播圖變成循環的。但事實上是swiper會複製一份達到無縫接軌的效果，被複製的swiper class會加上<code>swiper-slide-duplicate</code>，比較大的坑是複製出來的swiper無法被綁定</td></tr><tr><td>centeredSlides</td><td>false</td><td>讓輪播圖置中，slidePerView數值的計算方式也會跟著改變，變成由最中間的幻燈片到另一側的數量</td></tr></tbody></table></div><h4 id="範例四-設定轉場效果-cards"><a href="#範例四-設定轉場效果-cards" class="headerlink" title="範例四:設定轉場效果-cards"></a>範例四:設定轉場效果-cards</h4><iframe src="https://codepen.io/johnnytsai81/embed/ZEryZzE?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li>在參數effect加上<code>cards</code>便可以開啟卡片效果，建議把<code>slidesPerView</code>設為1，才能計算出正確的寬度</li><li>如果想要調整移動卡片能拉動的最大角度，要在cardsEffect參數加上<code>rotate: 想要的角度</code>，數值只能為正數(負數效果跟正數一樣)</li><li>預設疊在後方的卡片會有陰影，如果不想要陰影在cardsEffect參數加上<code>slideShadows: false</code>即可。如果想修改陰影可以用css覆蓋掉<code>.swiper-slide-shadow</code>的樣式</li></ul><h4 id="範例五-設定轉場效果-creative"><a href="#範例五-設定轉場效果-creative" class="headerlink" title="範例五:設定轉場效果-creative"></a>範例五:設定轉場效果-creative</h4><p>最後一個要介紹的effect是creative，他是一個相當有彈性的效果，你可以利用調整參數達到自訂的效果，demo有示範6種不同的組合</p><iframe src="https://codepen.io/johnnytsai81/embed/rNJwbex?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><ul><li><p>控制幻燈片的離場效果要在creativeEffect參數加上<code>prev:&#123;...&#125;</code>，控制進場效果則是<code>next:&#123;...&#125;</code><br>  prev、next可調整的參數:</p>  <div class="table-outer">  <table>  <thead>  <tr>  <th>名稱</th>  <th>用途</th>  </tr>  </thead>  <tbody>  <tr>  <td>translate: [x軸,y軸,z軸]</td>  <td>調整移動的距離，如果參數是百分比必須要加上引號(EX: "25%")</td>  </tr>  <tr>  <td>rotate: [x軸,y軸,z軸]</td>  <td>調整旋轉的角色，單位為deg</td>  </tr>  <tr>  <td>opacity: </td>  <td>調整透明度，數值最大為1、最小為0</td>  </tr>  <tr>  <td>scale: </td>  <td>調整等比例的縮放大小，數值為倍率大小</td>  </tr>  <tr>  <td>shadow: true</td>  <td>是否有陰影，預設為false</td>  </tr>  </tbody>  </table>  </div></li><li><p>調整移動的距離，要在prev、next參數加上<code>translate: [x軸,y軸,z軸]</code></p></li><li><p>如果想要有陰影，在prev、next參數加上<code>shadow: true</code>即可。如果想修改陰影可以用css覆蓋掉<code>.swiper-slide-shadow</code>的樣式</p></li></ul><hr><h2 id="自動輪播及速度設定"><a href="#自動輪播及速度設定" class="headerlink" title="自動輪播及速度設定"></a>自動輪播及速度設定</h2><p>決定好樣式後，也可以調整過場速度跟速率</p><h4 id="範例五-設定自動輪播"><a href="#範例五-設定自動輪播" class="headerlink" title="範例五:設定自動輪播"></a>範例五:設定自動輪播</h4><iframe src="https://codepen.io/johnnytsai81/embed/gOvRVXQ?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>使用到的swiper參數及功用:</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>speed</td><td>300</td><td>控制切換幻燈片的速度，單位為毫秒</td></tr><tr><td>autoplay</td><td>object</td><td>開啟自動輪播。參數加上<code>delay: 想要的速度</code>可以決定切換的速度，單位為毫秒。預設是使用者按下按鈕或挪動幻燈片後autoplay就會失效，如果參數加上<code>disableOnInteraction: false</code>則不受影響。另外你也可以加上<code>pauseOnMouseEnter:true</code>避免使用者滑鼠移入時幻燈片跳到下一張</td></tr></tbody></table></div><p>速率的部分要在該swiper的swiper-slide進行修改</p><ul><li><code>transition-timing-function</code> 修改速率，預設是ease</li><li><code>transition-delay</code> 修改延遲的時間</li></ul><h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>寫著寫著發現篇幅不小心寫太長了…下一篇我們會講到更進階一點的略縮圖跟監聽功能等 😅 😅 😅</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;Swiper是一個完全免費的輪播圖外掛，很多網站都有使用它算是相當有名氣的。它有很多可調整的變數，所以坑也很多…&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-06.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;版本選擇&quot;&gt;&lt;a</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Slider" scheme="https://johnnytsai81.github.io/tags/Slider/"/>
    
  </entry>
  
  <entry>
    <title>用fullPage.js建立出酷炫的全螢幕滾動網頁</title>
    <link href="https://johnnytsai81.github.io/Plugin/08_fullPage/"/>
    <id>https://johnnytsai81.github.io/Plugin/08_fullPage/</id>
    <published>2022-05-14T04:17:39.000Z</published>
    <updated>2022-12-31T13:03:30.653Z</updated>
    
    <content type="html"><![CDATA[<p>fullPage是一個能全螢幕滾動的外掛，會讓你的網站看起來很不一樣。但也因為他的效果會讓整個網站變成fixed，導致許多效果需要另外做調整。</p><p><img src="/images/post/head-cv-05.jpg" alt="$cover"></p><h2 id="版本選擇"><a href="#版本選擇" class="headerlink" title="版本選擇"></a>版本選擇</h2><p>目前最新的版本為<a href="https://alvarotrigo.com/fullPage/">version4</a>，除了解決了前幾個版本的bug，還多了<a href="https://alvarotrigo.com/fullPage/extensions/">擴充</a>功能(需要花錢購買)。如果不想有金鑰警告，也可以使用<a href="https://github.com/alvarotrigo/fullPage.js/tree/2.9.7">舊版</a>，但是有許多無法解決的坑所以不太建議。</p><div class="admonition info"><p class="admonition-title">安裝</p><p>需要放css跟js兩個檔案 <a href="https://cdnjs.com/libraries/fullPage.js">cdnjs連結</a></p></div><h2 id="基本設定"><a href="#基本設定" class="headerlink" title="基本設定"></a>基本設定</h2><p>首先先建立基本的框架，也就是只有單純的頁面跟下滑的效果</p><h4 id="範例一-基本型"><a href="#範例一-基本型" class="headerlink" title="範例一:基本型"></a>範例一:基本型</h4><iframe src="https://codepen.io/johnnytsai81/embed/rNJWYXd?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition info"><p class="admonition-title">初始化fullPage可以有兩種寫法</p><p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line"><span class="comment">// 寫法一</span></span><br><span class="line">    <span class="keyword">new</span> <span class="title function_">fullpage</span>(<span class="string">'#fullpage'</span>,{</span><br><span class="line">        ...</span><br><span class="line">    });</span><br><span class="line">    </span><br><span class="line"><span class="comment">// 寫法二</span></span><br><span class="line">    $(<span class="string">'#fullpage'</span>).<span class="title function_">fullpage</span>({</span><br><span class="line">        ...</span><br><span class="line">    });</span><br></pre></td></tr></table></figure></p><ul><li><code>#fullpage</code>可以自己替換成想控制的容器名稱</li><li><code>...</code>是用來放fullPage的配置參數</li></ul></div><div class="admonition info"><p class="admonition-title">fullPage的架構寫法</p><p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;fullpage&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;section&quot;</span>&gt;</span></span><br><span class="line">        ...</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li><code>#fullpage</code>是被控制的容器，要放在最外層</li><li>每一個<code>.section</code>代表一個頁面，想要有幾個頁面就要放上對應的數量</li></ul></div><p>這邊補充一下使用到的fullPage參數及功用:</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>sectionSelector</td><td>section</td><td>修改html外層框架的class名稱</td></tr><tr><td>navigation</td><td>false</td><td>是否會出現右側導覽按鈕</td></tr><tr><td>verticalCentered</td><td>true</td><td>是否垂直置中</td></tr><tr><td>responsiveWidth</td><td>0</td><td>停止運作的斷點，如果為1024表示視窗寬度1024以下不會作用</td></tr><tr><td>credits</td><td>{enabled: true, label: 'Made with fullpage.js', position: 'right'}</td><td>創作者區塊，如果不想顯示就把這功能關掉</td></tr></tbody></table></div><hr><p>如果要做成像一頁式網站的話，那就不能缺少選單及錨點。fullPage.js也能很輕鬆建立出錨點的功能。</p><h4 id="範例二-新增選單及錨點"><a href="#範例二-新增選單及錨點" class="headerlink" title="範例二:新增選單及錨點"></a>範例二:新增選單及錨點</h4><iframe src="https://codepen.io/johnnytsai81/embed/WNMozJr?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition info"><p class="admonition-title">menu的架構寫法</p><p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;menu&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-menuanchor</span>=<span class="string">&quot;firstPage&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#firstPage&quot;</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">data-menuanchor</span>=<span class="string">&quot;secondPage&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;#secondPage&quot;</span>&gt;</span></span><br><span class="line">            ...</span><br><span class="line">        <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></p><ul><li><code>#menu</code>是被控制的容器，要放在最外層，而且要跟<code>#fullpage</code>分開放</li><li>每一個按鈕要加上跟anchors對應的<code>data-menuanchor</code></li></ul></div><div class="admonition warning"><p class="admonition-title">menu position的調整</p><p>因為fullpage預設的menu的position是<code>absolute</code>，但是網站一般習慣使用的header都是<code>relative</code>或是<code>fixed</code>，所以我這邊做了點調整。調整完後會發現滾動的距離會算錯，所以要利用margin-top跟padding-top、z-index的搭配修正滾動距離。</p></div><p>這邊解釋一下fullPage參數的功用:</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>menu</td><td>false</td><td>設定綁定選單的class名稱，需要用data-menuanchor跟anchors做綁定，綁定方法可以參考codepen</td></tr><tr><td>anchors</td><td>[]</td><td>定義錨點連結，有錨點後點按後可以快速定位到某一頁面，定義位置的時候不需要加#。(如果在指定的section加上active，就可以預設打開此頁)</td></tr></table></div><hr><p>如果要做成有多個大類的網站，那就必須要有header跟footer，而且footer的高度不會占到一整個螢幕。</p><h4 id="範例三-新增header及footer"><a href="#範例三-新增header及footer" class="headerlink" title="範例三:新增header及footer"></a>範例三:新增header及footer</h4><iframe src="https://codepen.io/johnnytsai81/embed/bGLBzLm?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><p>footer在v4版本非常的簡便，只需要在設區塊的高度即可。(如果在v3版以下需要設定<code>fp-auto-height</code>，然後就有很多的坑在等你 🙂 🙂 🙂 )</p><hr><h2 id="動畫設定"><a href="#動畫設定" class="headerlink" title="動畫設定"></a>動畫設定</h2><p>因為fullPage會把整個區塊的position變成fixed，讓監聽進入視窗的程式失效導致無法順利跳出動畫，這時候可以用ScrollMagic.js做輔助。</p><h4 id="範例四-加入ScrollMagic-js"><a href="#範例四-加入ScrollMagic-js" class="headerlink" title="範例四:加入ScrollMagic.js"></a>範例四:加入ScrollMagic.js</h4><iframe src="https://codepen.io/johnnytsai81/embed/YzepgaR?height=300&theme-id=dark&default-tab=js,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><div class="admonition info"><p class="admonition-title">為什麼要用ScrollMagic?</p><p>fullPage有內建會在當前的section加上active，但有一個問題是不論往上滑或往下滑到那個區塊都會發動一次動畫效果，一般來說只需要往下滑發動一次動畫效果即可，而ScrollMagic剛好可以達成。</p></div><p>ScrollMagic的使用方式也相當簡單(<a href="https://scrollmagic.io/examples/basic/class_toggles.html">了解更多</a>)，只要按照codepen的寫法填入對應section的id即可。</p><p>fullPage雖然也有參數可以監控 像是afterLoad、onLeave…等等，但如果沒有很複雜的動畫需求不建議使用…因為設定上相當麻煩。</p><p>那麼fullPage的介紹先到這裡，如果未來有嘗試到好用的功能再分享上來 😉 😉 😉</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;fullPage是一個能全螢幕滾動的外掛，會讓你的網站看起來很不一樣。但也因為他的效果會讓整個網站變成fixed，導致許多效果需要另外做調整。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-05.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Scroll" scheme="https://johnnytsai81.github.io/tags/Scroll/"/>
    
  </entry>
  
  <entry>
    <title>應該用哪一個切版？flex跟grid的優缺點比較</title>
    <link href="https://johnnytsai81.github.io/CSS/07_flex_vs_grid/"/>
    <id>https://johnnytsai81.github.io/CSS/07_flex_vs_grid/</id>
    <published>2022-05-01T04:17:39.000Z</published>
    <updated>2022-12-31T13:10:39.345Z</updated>
    
    <content type="html"><![CDATA[<p>近來因為RWD的興起，flex跟grid的排版方式開始流行了起來。但是大部分的文章都在介紹如何使用，所以想寫一篇文章比較兩者的優勢，以及在什麼情況下用哪一個排版方式比較好。</p><p><img src="/images/post/head-cv-04.jpg" alt="$cover"></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><div class="admonition warning"><p class="admonition-title">注意</p><p>本篇適合已了解flex及grid用法的人閱讀，因為本篇不會介紹如何使用它們。</p></div><p><strong>如果要用一句話來描述兩者的差異，那就是<code>Flex</code>是擅長一維的排版，<code>Grid</code>擅長二維的排版。</strong></p><blockquote><p>就像數學的座標軸一樣：</p><ul><li>如果資料的流向是只有x或只有y，那麼用flex會比較適合。</li><li>如果流向是在x、y之間格狀的區塊，那麼用grid會比較適合。</li></ul><p>雖然是這麼說，但隨著CSS跟瀏覽器的進步，其實兩者之間的差異性也越來越小了。</p></blockquote><p><img src="https://images2.imgbox.com/bb/9a/525LMs08_o.jpg"></p><h2 id="實戰"><a href="#實戰" class="headerlink" title="實戰"></a>實戰</h2><h4 id="範例一：列表（資料單向排列，資料本身沒有固定長度，且會換行）"><a href="#範例一：列表（資料單向排列，資料本身沒有固定長度，且會換行）" class="headerlink" title="範例一：列表（資料單向排列，資料本身沒有固定長度，且會換行）"></a>範例一：列表（資料單向排列，資料本身沒有固定長度，且會換行）</h4><p><img src="https://images2.imgbox.com/5c/17/nwNQuk77_o.png"></p><blockquote><p><strong>Flex</strong></p><ul><li>列表雖然大部分都用<code>li</code>去做，但是<code>flex</code>也是可以很輕鬆做到的</li></ul></blockquote><iframe src="https://codepen.io/johnnytsai81/embed/VwQeXze?height=300&theme-id=dark&default-tab=css,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><blockquote><p><strong>Grid</strong></p><ul><li>如果沒有指定寬度，<code>grid</code>會自動平均分配空白的空間至滿版，且無法斷行。如果指定寬度，就有可能造成文字斷行不美觀的問題</li></ul></blockquote><iframe src="https://codepen.io/johnnytsai81/embed/zYRraYz?height=300&theme-id=dark&default-tab=css,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><hr><h4 id="範例二：卡片列表（資料單向排列，資料有固定長度，且會換行。資料不達一行時則置中）"><a href="#範例二：卡片列表（資料單向排列，資料有固定長度，且會換行。資料不達一行時則置中）" class="headerlink" title="範例二：卡片列表（資料單向排列，資料有固定長度，且會換行。資料不達一行時則置中）"></a>範例二：卡片列表（資料單向排列，資料有固定長度，且會換行。資料不達一行時則置中）</h4><p><img src="https://images2.imgbox.com/fb/06/LPfY3x6o_o.png"></p><blockquote><p><strong>Flex</strong></p><ul><li>相較於範例一，<code>flex</code>只需要在子層加上<code>flex</code>的比例即可，因為我有加<code>gap</code>所以在寬度上計算上會稍微複雜一些(基本的寬度為<code>100% / 3</code>、gap的寬度為 <code>2rem / 3</code>)。</li><li>不滿一行置中的設定也是相當容易，用程式判斷並添加<code>justfy-content:center</code>即可。</li></ul></blockquote><iframe src="https://codepen.io/johnnytsai81/embed/BaYjVVj?height=300&theme-id=dark&default-tab=css,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><blockquote><p><strong>Grid</strong></p><ul><li>因為最早<code>gap</code>是<code>grid</code>特有的功能，所以不用特別計算寬度，但grid在沒有資料的情況下仍然會佔據空間導致無法達到水平置中的效果。</li></ul></blockquote><iframe src="https://codepen.io/johnnytsai81/embed/VwQeBaY?height=300&theme-id=dark&default-tab=css,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><hr><h4 id="範例三：不規則區塊（A為sidebar，B、C、D為資料區塊。當C沒有資料時，D可以選擇在原位置還是替補C的位置）"><a href="#範例三：不規則區塊（A為sidebar，B、C、D為資料區塊。當C沒有資料時，D可以選擇在原位置還是替補C的位置）" class="headerlink" title="範例三：不規則區塊（A為sidebar，B、C、D為資料區塊。當C沒有資料時，D可以選擇在原位置還是替補C的位置）"></a>範例三：不規則區塊（A為sidebar，B、C、D為資料區塊。當C沒有資料時，D可以選擇在原位置還是替補C的位置）</h4><p><img src="https://images2.imgbox.com/7f/ca/JmbnoLWO_o.jpg"></p><blockquote><p><strong>Flex</strong></p><ul><li>如果要切出A、B、C、D四個區塊，對<code>flex</code>稍微麻煩，需要橫向一層再包縱向一層。</li><li>D替補C區塊的時候，仍然保持D區塊的高度</li><li>D佔據C區塊的時候，<code>flex-grow</code>調高到1即可</li></ul></blockquote><iframe src="https://codepen.io/johnnytsai81/embed/MWQyeNL?height=300&theme-id=dark&default-tab=css,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><blockquote><p><strong>Grid</strong></p><ul><li>如果要切出A、B、C、D四個區塊，對<code>grid</code>來說輕而易舉，只需要一層就可以切出來。(<code>grid-template</code>裡輸入的<code>1fr</code>代表佔據比例跟<code>flex-grow</code>一樣，而auto就是遵循子層的高度)</li><li>執得一提的是，D替補C區塊的時候，仍然是延續C區塊的高度，不會維持原本的高度。(這邊不討論用JS修改<code>grid-template-columns</code>的高度)</li><li>如果要佔據C區塊則使用<code>grid-row: span 2;</code>即可</li></ul></blockquote><iframe src="https://codepen.io/johnnytsai81/embed/MWQKqKM?height=300&theme-id=dark&default-tab=css,result" width="100%" height="300" frameborder="0" loading="lazy" allowfullscreen></iframe><hr><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>其實在寫這篇文章之前我是比較常用grid框架的，因為我不喜歡太多層讓架構變很複雜，但是在完成三個例子後我發現，其實很多不太複雜的架構，用flex做會比grid彈性來得大(畢竟他的中文翻譯也叫彈性盒子)。</p><p>下面是我私心覺得的優缺點：</p><h3 id="Flex"><a href="#Flex" class="headerlink" title="Flex"></a>Flex</h3><div class="admonition info"><p class="admonition-title">優點</p><ol><li>CSS程式碼簡短，預設流向是橫的</li><li>有多個區塊時，可以輕鬆的達到畫面置中的效果</li><li>當前一個區塊是空的時，下一個可以很順利地替補上去</li></ol></div><div class="admonition error"><p class="admonition-title">缺點</p><ol><li>要換行需要另外打<code>flex-wrap:wrap</code>比較麻煩，雖然說grid所需的CSS程式碼更多一些就是</li><li>使用flex-direction修改流向成直的，置中的設定會互相調換需要注意一下</li><li>複雜的排版會需要很多層flex去達成，日後維護也會較麻煩</li></ol></div><h3 id="Grid"><a href="#Grid" class="headerlink" title="Grid"></a>Grid</h3><div class="admonition info"><p class="admonition-title">優點</p><ol><li>HTML程式碼簡短，CSS設定較集中，預設流向是直的</li><li>因應不同裝置挪動區塊位置非常簡易</li><li>可以無視資料流向延伸區塊位置</li></ol></div><div class="admonition error"><p class="admonition-title">缺點</p><ol><li>學習成本較高、需要打的CSS程式碼較多</li><li>當前一個區塊是空的時，下一個替補的區塊會維持前一個區塊的大小</li><li>在<code>grid-template</code>有兩個以上的區塊，則無法達到完全置中</li></ol></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;近來因為RWD的興起，flex跟grid的排版方式開始流行了起來。但是大部分的文章都在介紹如何使用，所以想寫一篇文章比較兩者的優勢，以及在什麼情況下用哪一個排版方式比較好。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-04.jpg&quot; alt=</summary>
      
    
    
    
    <category term="CSS" scheme="https://johnnytsai81.github.io/categories/CSS/"/>
    
    
    <category term="Flex" scheme="https://johnnytsai81.github.io/tags/Flex/"/>
    
    <category term="Grid" scheme="https://johnnytsai81.github.io/tags/Grid/"/>
    
  </entry>
  
  <entry>
    <title>Pug 模板繼承功能(Inheritance) block extends include 介紹及應用</title>
    <link href="https://johnnytsai81.github.io/HTML/06_pug-1/"/>
    <id>https://johnnytsai81.github.io/HTML/06_pug-1/</id>
    <published>2022-04-26T04:17:39.000Z</published>
    <updated>2022-12-31T13:06:34.613Z</updated>
    
    <content type="html"><![CDATA[<p>pug的模板繼承功能，可以透過block extends include去組合成一個完整的網頁。</p><p><img src="/images/post/head-cv-03.jpg" alt="$cover"></p><h2 id="block-x2F-extends-x2F-include-的層級關係"><a href="#block-x2F-extends-x2F-include-的層級關係" class="headerlink" title="block &#x2F; extends &#x2F; include 的層級關係"></a>block &#x2F; extends &#x2F; include 的層級關係</h2><blockquote><p>模板引擎最大的重點在於這三種模板的應用，extends 像一個大零件，大零件裡面可以放很多小零件或小插件。而小零件就是block，block可以自行覆蓋內容或是添加內容。而include比較像小插件，跟block比起來擴充性較差。如果單用文字描述他們的功能可能有點難以理解是什麼意思，所以我畫了一張圖。</p></blockquote><p><img src="https://images2.imgbox.com/a1/81/gl8ZJg3a_o.jpg"></p><div class="admonition info"><p class="admonition-title">tip</p><p>由圖可以發現他們的層序關係，extends裡面可以放extends、block及include，block裡面只能放include，include則是只能放程式不能放任何的模板。</p></div><p>我們現在先來示範一個最簡單的架構，一個只有header跟footer還有main的網頁</p><h4 id="範例一-extends-block"><a href="#範例一-extends-block" class="headerlink" title="範例一 (extends+block)"></a>範例一 (extends+block)</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// base.pug</span><br><span class="line">body</span><br><span class="line">    header</span><br><span class="line">        block header</span><br><span class="line">    main</span><br><span class="line">        block main</span><br><span class="line">    footer</span><br><span class="line">        block footer</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// index.pug</span><br><span class="line">extends base //欲連接的pug檔案位置</span><br><span class="line"></span><br><span class="line">block header</span><br><span class="line">    h1 我的網站名稱</span><br><span class="line">block main</span><br><span class="line">    h2 我的網站內容</span><br><span class="line">block footer</span><br><span class="line">    p 我的網站頁尾</span><br></pre></td></tr></table></figure><p>輸出成html會變成：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我的網站名稱<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我的網站內容<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我的網站內容<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>你會發現本來的一頁網站被拆成了兩份，base.pug是我的大零件他放了三個block，我可以自由的修改block裡面的內容（需要注意的是extends跟block是在同一個層級）。</p><p>這邊只應用了extends跟block，如果我確定我的header跟footer都是固定不變的，這就可以選擇用include的方式。</p><h4 id="範例二-extends-block-include"><a href="#範例二-extends-block-include" class="headerlink" title="範例二 (extends+block+include)"></a>範例二 (extends+block+include)</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// base.pug</span><br><span class="line">body</span><br><span class="line">    header</span><br><span class="line">        include header</span><br><span class="line">    main</span><br><span class="line">        block main</span><br><span class="line">    footer</span><br><span class="line">        include footer</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// index.pug</span><br><span class="line">extends base //欲連接的pug檔案位置</span><br><span class="line"></span><br><span class="line">block main</span><br><span class="line">    h2 我是首頁</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// header.pug</span><br><span class="line">h1 我是頁頭</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// footer.pug</span><br><span class="line">p 我是頁尾</span><br></pre></td></tr></table></figure><p>輸出成html會變成：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- index.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">header</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是頁頭<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">header</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>我是標題<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">footer</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">p</span>&gt;</span>我是頁尾<span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">footer</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>這麼一來header跟footer只需要做一次可以用include的方式套用在全部的頁面了。</p><hr><h3 id="覆寫或添加內容到block"><a href="#覆寫或添加內容到block" class="headerlink" title="覆寫或添加內容到block"></a>覆寫或添加內容到block</h3><p>接下來我們介紹一下block，block的應用方式比較多元，block裡面可以放程式，但是加了新的東西後舊的東西就會被自動被覆蓋掉，這邊我用一個簡單的例子：</p><h4 id="範例三"><a href="#範例三" class="headerlink" title="範例三"></a>範例三</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// base.pug</span><br><span class="line">body</span><br><span class="line">    main</span><br><span class="line">        block main</span><br><span class="line">            h2 這是首頁</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// list.pug</span><br><span class="line">extends base</span><br><span class="line"></span><br><span class="line">block main</span><br><span class="line">    h2 這是列表頁</span><br></pre></td></tr></table></figure><p>輸出成html會變成：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- list.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>這是列表頁<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果不想覆蓋原本的內容也可以用append跟prepend的方式添加block的內容，這邊舉一個例子：</p><h4 id="範例四-block-append-x2F-prepend"><a href="#範例四-block-append-x2F-prepend" class="headerlink" title="範例四 (block append &#x2F; prepend)"></a>範例四 (block append &#x2F; prepend)</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// base.pug</span><br><span class="line">body</span><br><span class="line">    main</span><br><span class="line">        block main</span><br><span class="line">            h2 這是首頁</span><br><span class="line">    block script</span><br><span class="line">        script(src=&#x27;/jquery.js&#x27;)</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// list.pug</span><br><span class="line">extends base</span><br><span class="line"></span><br><span class="line">block main</span><br><span class="line">    h2 這是列表頁</span><br><span class="line"></span><br><span class="line">block append script</span><br><span class="line">    script(src=&#x27;/list.js&#x27;)</span><br></pre></td></tr></table></figure><p>輸出成html會變成：</p><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="comment">&lt;!-- list.html --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">main</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">h2</span>&gt;</span>這是列表頁<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">main</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;/jquery.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&#x27;/list.js&#x27;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br></pre></td></tr></table></figure><hr><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>那block extends include的介紹就差不多到這邊，在實際應用差不多在三層左右，如果做太多層架構會變很複雜，反而會變得難以維護。</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;pug的模板繼承功能，可以透過block extends include去組合成一個完整的網頁。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-03.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;block-x2F-extend</summary>
      
    
    
    
    <category term="HTML" scheme="https://johnnytsai81.github.io/categories/HTML/"/>
    
    
    <category term="Pug" scheme="https://johnnytsai81.github.io/tags/Pug/"/>
    
  </entry>
  
  <entry>
    <title>用hexo打造屬於自己的部落格（三）-架構篇</title>
    <link href="https://johnnytsai81.github.io/blog/04_hexo-3/"/>
    <id>https://johnnytsai81.github.io/blog/04_hexo-3/</id>
    <published>2022-04-25T04:17:39.000Z</published>
    <updated>2023-04-06T14:28:42.517Z</updated>
    
    <content type="html"><![CDATA[<p>hexo是一個可以快速建立blog的網誌框架，擁有豐富的主題、及外掛可以利用。</p><p><img src="/images/post/head-cv-02.jpg" alt="$cover"></p><h2 id="Hexo的運作流程"><a href="#Hexo的運作流程" class="headerlink" title="Hexo的運作流程"></a>Hexo的運作流程</h2><blockquote><p>如果想要對現有的主題進行大幅度的修改，首先要先了解hexo的架構及他的運作方法，這樣才知道要從哪裡開始進行修改。一開始我們在編輯好檔案或是修改好config後，會先在終端機打上<code>hexo g</code>，用意是把模板語法轉譯成瀏覽器可以讀取的檔案。轉譯好的檔案會先放在public資料夾裡，你會看到裡面都是被轉譯好的html、css、js檔。</p></blockquote><blockquote><p>為什麼要進行轉譯的動作呢？因為我們做的網站不可能是一頁一個html手動完成的，這樣會非常的花費時間。所以模板語法可以幫助我們用拼圖的方式組合，重複的地方我們只需要做一次即可（像是header、footer等等）。轉譯好後我們可以選擇使用<code>hexo s</code>本機瀏覽或是<code>hexo d</code>推到網路上，推到網路上前他會進行一次的備份並放在deploy資料夾，所以你會發現到public的資料夾內容跟deploy資料夾一樣。</p></blockquote><p><img src="https://images2.imgbox.com/d7/2f/qon0Yw8A_o.jpg"><br><em>三個指令分別運作的區域</em></p><div class="admonition info"><p class="admonition-title">tip</p><p>一般來說我們會修改的地方有兩個，編輯架構或樣式請到<code>themes/layout</code>及<code>themes/source</code>，編輯文章內容請到<code>source/_posts</code>。</p></div><p>這邊整理了一些比較重要的資料夾或檔案：</p><div class="table-outer"><table><thead><tr><th>位置</th><th>用途</th></tr></thead><tbody><tr><td>themes</td><td>用來放你的主題，點進去可以看到有主題名稱的資料夾</td></tr><tr><td>themes/layout</td><td>用來放主題的網頁架構，每個主題用語法都不一樣，但最後輸出到public都會變成HTML檔</td></tr><tr><td>themes/source</td><td>用來放網站的圖片、css(hexo也有支援sass轉譯)、js</td></tr><tr><td>themes/languages</td><td>可因應所在地區改變指定文字的語言</td></tr><tr><td>themes/config.yml</td><td>主題的設定（header類別項目、留言區、其他套件等等...）</td></tr><tr><td>themes/package.json</td><td>會紀錄目前主題的版本及有用的hexo套件</td></tr><tr><td>source</td><td>放置blog文章及自訂頁的地方（需要按照網址位置去做資料夾分類，ex:你想新增網址為/sitemap的自訂頁，那你就要新增sitemap資料夾裡面放index.md）</td></tr><tr><td>public</td><td>放置轉譯過的檔案，也可以轉譯後修改再deploy，但小心若使用`hexo clean`會把修改的東西清掉（`hexo g`只會把重複的檔案覆蓋掉，並不會清除沒重複的檔案）</td></tr><tr><td>node_modules</td><td>使用npm安裝的套件內容</td></tr><tr><td>package.json</td><td>紀錄hexo目前的版本及裝過的套件</td></tr><tr><td>deploy</td><td>部署的到網路的檔案</td></tr></tbody></table></div><h2 id="修改網頁的首頁"><a href="#修改網頁的首頁" class="headerlink" title="修改網頁的首頁"></a>修改網頁的首頁</h2><blockquote><p>有時候我們想要新增一些自訂頁面，也就是不需要模板語言轉譯。如果首頁要變成自訂頁會比較麻煩些，因為要改一下config.yml的設定。點開config有一個Home page setting可以修改首頁的網址，這邊我修改成<code>/blog/</code>。這麼一來原本點開的首頁網址就會變成xxx.github.io&#x2F;blog，這樣我就可以放我的自訂頁在xxx.github.io。</p></blockquote><p><img src="https://images2.imgbox.com/15/c9/tIzjR09u_o.png"></p><p>至於其他自訂頁就比較簡單了，只要在source新增一個資料夾裡面放index.md即可。例如我想要新增一個&#x2F;work的自訂頁，用hexo新增一個新的page即可。</p><h4 id="新增自訂頁"><a href="#新增自訂頁" class="headerlink" title="新增自訂頁"></a>新增自訂頁</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new page work</span><br></pre></td></tr></table></figure><p><img src="https://images2.imgbox.com/4b/5b/yYpxfDCe_o.png"><br><em>如果不想要打指令碼也可以用手動新增</em></p><div class="admonition info"><p class="admonition-title">tip</p><p>在製作自訂頁的時候可以先用html編輯再複製過去，因為md可以兼容html（md無法收合在編輯上比較不方便）。</p></div><hr><h2 id="layout與模板引擎"><a href="#layout與模板引擎" class="headerlink" title="layout與模板引擎"></a>layout與模板引擎</h2><p>網頁的架構主要都會放在themes&#x2F;你的主題&#x2F;layout裡面，每個主題所使用的模板引擎都不同，主流的有<a href="https://ejs.bootcss.com/">EJS</a> 、<a href="https://pugjs.org/api/getting-started.html">Pug</a> 、 <a href="'https://haml.info/'">haml</a>等。每一個模板引擎的語法都不太相同，所以選一個自己熟悉的即可，我個人是使用Pug。</p><p>layout的模板命名基本上會跟<a href="https://hexo.io/zh-tw/docs/variables">hexo的變數名稱</a>有所相關，僅供參考（不確定是否主題都會遵照此名稱）</p><div class="table-outer"><table><thead><tr><th>名稱</th><th>可能的用途</th></tr></thead><tbody><tr><td>index</td><td>首頁，也就是文章列表頁</td></tr><tr><td>category</td><td>分類頁，一個post可以有多個category</td></tr><tr><td>tag</td><td>標籤頁，一個post可以有多個tag</td></tr><tr><td>archive</td><td>匯整頁，有點類似年代表的方式紀錄文章更新歷程</td></tr><tr><td>page</td><td>自訂頁</td></tr><tr><td>post</td><td>文章</td></tr><tr><td>base</td><td>主體架構，包含了header跟footer（有些主題可能會拆開來寫）</td></tr><tr><td>search</td><td>搜尋</td></tr></tbody></table></div><p>除了熟悉layout的檔名對應的頁面跟功能後，還要了解模板引擎的插入概念，這樣就可以快速找到修改頁面的位置。<a href="/Web-Design/06_pug-1/">這邊</a>有詳細的介紹。</p><hr><h2 id="hexo的變數"><a href="#hexo的變數" class="headerlink" title="hexo的變數"></a>hexo的變數</h2><p>一般來說只有修改位置的話基本上不需要動到變數。但如果想要在既有的頁面新增數據或者新增功能頁，就必須靠變數來達成。因為hexo的操作手冊是使用EJS，所以你直接複製貼上在pug會沒有任何作用 🫠 🫠 🫠</p><p>首先我們必須要改成pug能解讀的格式，以官方手冊<a href="https://hexo.io/docs/helpers">helper</a>來舉例（這一頁有提供很多實用的變數，或是預設架構修改），往下拉會看到一個Date&amp;Time，他可以顯示現在的時間。</p><p><img src="https://images2.imgbox.com/83/cb/bHaMS1Zj_o.png"></p><h4 id="在pug變數的寫法"><a href="#在pug變數的寫法" class="headerlink" title="在pug變數的寫法"></a>在pug變數的寫法</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 寫法一</span><br><span class="line">div= date(Date.now())</span><br><span class="line"></span><br><span class="line">// 寫法二 </span><br><span class="line">div #&#123;date(Date.now())&#125;</span><br><span class="line"></span><br><span class="line">//寫法三</span><br><span class="line">div= `$&#123;date(Date.now())&#125;`</span><br></pre></td></tr></table></figure><div class="admonition info"><p class="admonition-title">tip</p><p><code>=</code> 在pug代表必須被轉譯成javaScript，如果沒有加上 <code>=</code> pug就會以為是純文字。</p></div><p>除了helper，官方手冊也有提供<a href="https://hexo.io/zh-tw/docs/variables">變數</a>提供我們使用，用法跟helper一樣。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">div= `$&#123;page.category&#125;`</span><br></pre></td></tr></table></figure><p>hexo實用的變數都在page，但是page的缺點是他不是全域變數，在非page的頁面會取得不到變數資料，所以有些資料還是要靠site的全域變數去挖資料出來，首先我們先用指令查看目錄的全域資料。</p><h4 id="尋找變數資料"><a href="#尋找變數資料" class="headerlink" title="尋找變數資料"></a>尋找變數資料</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">each i in site.categories.data</span><br><span class="line">    = console.log(i) //顯示在終端機上</span><br></pre></td></tr></table></figure><p>只要在想看的變數內容後面加上data就可以看到完整的JSON資料，我的網站出現的結果是長這樣，因為我的分類有兩個所以JSON會給我兩筆資料，裡面的資料如下。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">_Document &#123;</span><br><span class="line">name: &#x27;Web-Design&#x27;,</span><br><span class="line">_id: &#x27;cl2o9jmyk0004qs971etuaglz&#x27;,</span><br><span class="line">slug: [Getter],</span><br><span class="line">path: [Getter],</span><br><span class="line">permalink: [Getter],</span><br><span class="line">posts: [Getter],</span><br><span class="line">length: [Getter]</span><br><span class="line">&#125;,</span><br><span class="line">_Document &#123;</span><br><span class="line">name: &#x27;UI-Design&#x27;,</span><br><span class="line">_id: &#x27;cl2o9jmyr000nqs97fpm466hi&#x27;,</span><br><span class="line">slug: [Getter],</span><br><span class="line">path: [Getter],</span><br><span class="line">permalink: [Getter],</span><br><span class="line">posts: [Getter],</span><br><span class="line">length: [Getter]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>有些資料是無法直接看到的，如果要取得資料，必須更深入的取得下一層的資料。我在後面加上length看每個目錄裡的數量。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">each i in site.categories.data</span><br><span class="line">    = console.log(i.length) //顯示在終端機上</span><br></pre></td></tr></table></figure><p>結果表示我的第一個分類的數目有10個第二個分類的數目有5個。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">10</span><br><span class="line">5</span><br></pre></td></tr></table></figure><p>之後再用判斷式去篩選我要的資料即可，例如我要取得該目錄的post數量，就可以過濾掉其他目錄的post數量。</p><h4 id="加入判斷式"><a href="#加入判斷式" class="headerlink" title="加入判斷式"></a>加入判斷式</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">each i in site.categories.data</span><br><span class="line">    if i.name === page.category</span><br><span class="line">        span= i.length</span><br></pre></td></tr></table></figure><hr><h2 id="總結"><a href="#總結" class="headerlink" title="總結"></a>總結</h2><p>hexo的介紹就到這裡告一段落，如果未來有更深入的研究再上來跟大家分享，總之建立一個屬於自己的blog真的要踩很多坑呀 😩 😩 😩</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;hexo是一個可以快速建立blog的網誌框架，擁有豐富的主題、及外掛可以利用。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-02.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;Hexo的運作流程&quot;&gt;&lt;a href=&quot;#Hexo</summary>
      
    
    
    
    <category term="blog" scheme="https://johnnytsai81.github.io/categories/blog/"/>
    
    
    <category term="Hexo" scheme="https://johnnytsai81.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>用hexo打造屬於自己的部落格（二）-主題篇</title>
    <link href="https://johnnytsai81.github.io/blog/03_hexo-2/"/>
    <id>https://johnnytsai81.github.io/blog/03_hexo-2/</id>
    <published>2022-04-05T04:17:39.000Z</published>
    <updated>2023-04-06T14:28:44.146Z</updated>
    
    <content type="html"><![CDATA[<p>hexo是一個可以快速建立blog的網誌框架，擁有豐富的主題、及外掛可以利用。</p><p><img src="/images/post/head-cv-02.jpg" alt="$cover"></p><h2 id="選擇主題"><a href="#選擇主題" class="headerlink" title="選擇主題"></a>選擇主題</h2><h4 id="Hexo主題在挑選的時候要注意幾點："><a href="#Hexo主題在挑選的時候要注意幾點：" class="headerlink" title="Hexo主題在挑選的時候要注意幾點："></a>Hexo主題在挑選的時候要注意幾點：</h4><ul><li>選受歡迎的主題，因為受歡迎的主題通常表示內容在水準之上，以及作者會常常更新（修正bug或是能適應hexo的更新），遇到問題google也能得到比較多解答的機會</li><li>目前主題的功能是否有滿足部落格的需求，因為畫面自己切就好了，但是功能要做就不一定做得出來</li><li>如果會大幅度的修改主題架構，可以看一下themes&#x2F;你的主題&#x2F;layout所使用的模板引擎是否為自己所熟悉的</li></ul><p>這邊我選擇<a href="https://theme-next.js.org/">NexT</a>主題當作示範，<a href="https://theme-next.js.org/docs/getting-started/">這邊</a>有安裝的說明文件。(有些主題說明文件寫得很簡略，新手根本不知道怎麼安裝 😂 😂 😂 )</p><h4 id="用git的方式下載next主題"><a href="#用git的方式下載next主題" class="headerlink" title="用git的方式下載next主題"></a>用git的方式下載next主題</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ git <span class="built_in">clone</span> https://github.com/next-theme/hexo-theme-next themes/next</span><br></pre></td></tr></table></figure><p>然後把<code>_config</code>的theme改成next</p><p><img src="https://images2.imgbox.com/df/39/NRdXaFiO_o.png"></p><h4 id="用本機預覽看是否下載成功"><a href="#用本機預覽看是否下載成功" class="headerlink" title="用本機預覽看是否下載成功"></a>用本機預覽看是否下載成功</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo clean //清除public資料夾的檔案</span><br><span class="line">$ hexo g</span><br><span class="line">$ hexo s</span><br></pre></td></tr></table></figure><p><img src="https://images2.imgbox.com/90/8e/UQW8KcxW_o.png" alt="如果出現這個畫面代表安裝成功了"><br><em>如果出現這個畫面代表安裝成功了</em></p><hr><h2 id="主題環境設定"><a href="#主題環境設定" class="headerlink" title="主題環境設定"></a>主題環境設定</h2><p>Next的文件裡有說到，此主題不建議自行修改架構，所以全部的修改設定都放在themes&#x2F;_config.yml裡。</p><p>首先你可以先挑選樣式，NexT有提供四種樣式可以選擇，把想選擇的樣式前的註解<code>#</code>拿掉即可。</p><h4 id="主題選擇"><a href="#主題選擇" class="headerlink" title="主題選擇"></a>主題選擇</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="comment"># Schemes</span></span><br><span class="line"><span class="comment">#scheme: Muse</span></span><br><span class="line"><span class="comment">#scheme: Mist</span></span><br><span class="line"><span class="comment">#scheme: Pisces</span></span><br><span class="line"><span class="comment">#scheme: Gemini</span></span><br></pre></td></tr></table></figure><div class='post-gallery post-gallery-sm'>  <p>    <img src='https://images2.imgbox.com/06/c1/hXMIFFuA_o.png' style='aspect-ratio: 16 / 9; border:1px solid var(--bone-color)'></img>    <em>Muse</em>  </p>  <p>    <img src='https://images2.imgbox.com/21/fa/kC64ekup_o.png'  style='aspect-ratio: 16 / 9; border:1px solid var(--bone-color)'></img>    <em>Mist</em>  </p>  <p>    <img src='https://images2.imgbox.com/ed/b8/1oja8AcV_o.png'  style='aspect-ratio: 16 / 9; border:1px solid var(--bone-color)'></img>    <em>Pisces</em>  </p>  <p>    <img src='https://images2.imgbox.com/89/f9/AM7AdczX_o.png'  style='aspect-ratio: 16 / 9; border:1px solid var(--bone-color)'></img>    <em>Gemini</em>  </p></div><p>menu可以選擇header要放哪些類別，把前面的註解<code>#</code>拿掉即可。但開啟後不能馬上啟用，需要先建立目錄檔。</p><h4 id="類別選擇"><a href="#類別選擇" class="headerlink" title="類別選擇"></a>類別選擇</h4><figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="attr">menu:</span></span><br><span class="line">  <span class="comment">#home: / || fa fa-home</span></span><br><span class="line">  <span class="comment">#about: /about/ || fa fa-user</span></span><br><span class="line">  <span class="comment">#tags: /tags/ || fa fa-tags</span></span><br><span class="line">  <span class="comment">#categories: /categories/ || fa fa-th</span></span><br><span class="line">  <span class="comment">#archives: /archives/ || fa fa-archive</span></span><br><span class="line">  <span class="comment">#schedule: /schedule/ || fa fa-calendar</span></span><br><span class="line">  <span class="comment">#sitemap: /sitemap.xml || fa fa-sitemap</span></span><br><span class="line">  <span class="comment">#commonweal: /404/ || fa fa-heartbeat</span></span><br></pre></td></tr></table></figure><p>這邊先以categories為範例，建立一個分類頁（其他的類別就改成該類別的英文）</p><h4 id="建立分類"><a href="#建立分類" class="headerlink" title="建立分類"></a>建立分類</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new page categories</span><br></pre></td></tr></table></figure><p>執行以上命令後，會發現source資料夾多了一個categories&#x2F;index.md，點選並且編輯檔案並更改type的內容。</p><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;!-- index.md --&gt;</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">title: categories</span><br><span class="line">date: 2021-12-25 22:45:49</span><br><span class="line"><span class="section">type: &quot;categories&quot;</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><p>這麼一來就建立好一個大類了。這時候只要新增一篇post並且填寫類別，程式就會自動去做分類了。</p><h4 id="新增文章"><a href="#新增文章" class="headerlink" title="新增文章"></a>新增文章</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new page <span class="string">&quot;test&quot;</span></span><br></pre></td></tr></table></figure><figure class="highlight markdown"><table><tr><td class="code"><pre><span class="line"><span class="section">&lt;!-- text.md --&gt;</span></span><br><span class="line"><span class="section">---</span></span><br><span class="line">title: test</span><br><span class="line">date: 2021-12-25 22:45:49</span><br><span class="line"><span class="section">categories: Web-Design</span></span><br><span class="line"><span class="section">---</span></span><br></pre></td></tr></table></figure><h2 id="小結"><a href="#小結" class="headerlink" title="小結"></a>小結</h2><p>這麼一來就完成最基本的環境設定，雖然NexT有提供很多擴充功能，但是他的layout是用Nunjucks開發（我不太熟悉），所以我最後沒有選擇用這個主題，而是選用Pug開發的主題去做修改。</p><p>如果你對NexT主題風格很滿意，那你也可以考慮用NexT就好，更進階的功能網路上都有很多人分享，畢竟自己修改樣式還是很花時間的。</p><p>下一篇會介紹Hexo的運作流程及架構，這會幫助你在修改樣式時更快上手 😄 😄 😄</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;hexo是一個可以快速建立blog的網誌框架，擁有豐富的主題、及外掛可以利用。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-02.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;選擇主題&quot;&gt;&lt;a href=&quot;#選擇主題&quot; cla</summary>
      
    
    
    
    <category term="blog" scheme="https://johnnytsai81.github.io/categories/blog/"/>
    
    
    <category term="Hexo" scheme="https://johnnytsai81.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>用hexo打造屬於自己的部落格（一）-環境設置與部署篇</title>
    <link href="https://johnnytsai81.github.io/blog/02_hexo-1/"/>
    <id>https://johnnytsai81.github.io/blog/02_hexo-1/</id>
    <published>2022-04-03T04:17:39.000Z</published>
    <updated>2023-04-06T14:28:31.927Z</updated>
    
    <content type="html"><![CDATA[<p>hexo是一個可以快速建立blog的網誌框架，擁有豐富的主題、及外掛可以利用。</p><p><img src="/images/post/head-cv-02.jpg" alt="$cover"></p><h3 id="前置作業"><a href="#前置作業" class="headerlink" title="前置作業"></a>前置作業</h3><p>安裝hexo必須要用終端機的方式下載，如果你是沒有使用過終端機可以參考下面的方法(以下是用Visual Studio Code做示範):</p><p><img src="https://images2.imgbox.com/ba/cb/yk81vEMU_o.png" alt="先選擇想建立的資料夾位置並且開啟終端機"><br><em>先選擇想建立的資料夾位置並且開啟終端機</em></p><p>安裝hexo前必須要安裝 <a href="https://nodejs.org/zh-tw/download/">Node.js</a> 以及 npm。安裝好在終端機裡輸入</p><h4 id="查看node跟npm版本"><a href="#查看node跟npm版本" class="headerlink" title="查看node跟npm版本"></a>查看node跟npm版本</h4><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure><p><img src="https://images2.imgbox.com/1c/01/KZGH6mMK_o.png" alt="如果有出現版本就代表安裝成功"><br><em>如果有出現版本就代表安裝成功</em></p><p>如果是Mac的用戶需要另外安裝<a href="https://git-scm.com/">git</a></p><p>git可以用檔案下載的方式安裝，安裝完成後在終端機輸入</p><h4 id="查看git版本"><a href="#查看git版本" class="headerlink" title="查看git版本"></a>查看git版本</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git --version</span><br></pre></td></tr></table></figure><p><img src="https://images2.imgbox.com/20/b2/0txVpmKR_o.png" alt="如果有出現版本就代表安裝成功"><br><em>如果有出現版本就代表安裝成功</em></p><hr><h2 id="下載Hexo"><a href="#下載Hexo" class="headerlink" title="下載Hexo"></a>下載Hexo</h2><h4 id="新建資料夾並且安裝hexo"><a href="#新建資料夾並且安裝hexo" class="headerlink" title="新建資料夾並且安裝hexo"></a>新建資料夾並且安裝hexo</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo init 新資料夾名稱</span><br><span class="line">$ cd 新資料夾名稱</span><br><span class="line">$ npm install</span><br></pre></td></tr></table></figure><p>安裝成功之後請先安裝基本的外掛套件</p><h4 id="安裝-hexo-server-可以讓你在本地預覽"><a href="#安裝-hexo-server-可以讓你在本地預覽" class="headerlink" title="安裝 hexo-server (可以讓你在本地預覽)"></a>安裝 hexo-server (可以讓你在本地預覽)</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-server --save</span><br></pre></td></tr></table></figure><h4 id="安裝hexo-deployer-git-可以幫你把網站推上網路"><a href="#安裝hexo-deployer-git-可以幫你把網站推上網路" class="headerlink" title="安裝hexo-deployer-git (可以幫你把網站推上網路)"></a>安裝hexo-deployer-git (可以幫你把網站推上網路)</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure><p><img src="https://images2.imgbox.com/20/4f/jipdGtdk_o.png" alt="安裝成功後會出現會發現你建立的資料夾多了很多檔案"><br><em>安裝成功後會出現會發現你建立的資料夾多了很多檔案</em></p><p>都安裝完後，你可以先測試是否可以成功運行hexo</p><h4 id="建立資料並且開啟本地預覽"><a href="#建立資料並且開啟本地預覽" class="headerlink" title="建立資料並且開啟本地預覽"></a>建立資料並且開啟本地預覽</h4><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">$ hexo g  //建立public資料</span><br><span class="line">$ hexo s  //本地預覽</span><br></pre></td></tr></table></figure><p><img src="https://images2.imgbox.com/42/bb/a4QA0gUb_o.png" alt="按下localhost:4000/的連結便可以看到本機預覽的畫面"><br><em>按下localhost:4000&#x2F;的連結便可以看到本機預覽的畫面</em></p><p><img src="https://images2.imgbox.com/8f/88/v9f5qdPP_o.png" alt="hexo預設模板的畫面"><br><em>hexo預設模板的畫面</em></p><hr><h2 id="註冊GitHub"><a href="#註冊GitHub" class="headerlink" title="註冊GitHub"></a>註冊GitHub</h2><p>建立好你的網站後，會需要有放網站的地方。如果沒有特殊需求的話，<a href="https://github.com/">GitHub</a>是一個很好的免費平台。</p><p>首先你需要註冊一個github帳號。</p><p><img src="https://images2.imgbox.com/30/db/Mywag7ZY_o.png" alt="註冊好後先點擊右上角的your repositories"><br><em>註冊好後先點擊右上角的your repositories</em></p><p><img src="https://images2.imgbox.com/97/44/y8WhG2Fh_o.png" alt="點擊右上角的new開啟新專案"><br><em>點擊右上角的new開啟新專案</em></p><p>接下來這邊很重要，repository name決定了blog首頁網址為何，因為我們是用git的網域，所以網址都必須在git下。</p><p>如果你的repository name輸入blog網址就會變成 <code>你的用戶名稱.github.io/blog</code>，輸入index網址就會變成 <code>你的用戶名稱.github.io/index</code>。（你的用戶名稱是指你註冊帳號的名稱）</p><div class="admonition info"><p class="admonition-title">tip</p><p>如果是部落格當然建議是網址越短越好，所以我們會建議在repository name輸入 <code>你的用戶名稱.github.io</code>，這麼一來的blog首頁網址就會是 <code>你的用戶名稱.github.io</code>。</p></div><p>下面的選項要選擇public，如果點選private，hexo會無法上傳到該repository。最後點按create repository就建立好了。</p><p><img src="https://images2.imgbox.com/1e/37/ed1bT8AA_o.png"></p><hr><h2 id="修改Hexo設定檔"><a href="#修改Hexo設定檔" class="headerlink" title="修改Hexo設定檔"></a>修改Hexo設定檔</h2><p>首先先點按<code>_config.yml</code>(如果下載過主題的人小心不要點錯點到themes裡的<code>_config.yml</code>)</p><p><img src="https://images2.imgbox.com/9e/7b/GZ7GX1cX_o.png"></p><p>把<code>_config.yml</code>裡的url填上blog的網址和deploy的方式，這邊repo的網址比較複雜要小心不要填錯。</p><figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">url: https://你的用戶名稱.github.io</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">  ...</span><br><span class="line">deploy:</span><br><span class="line">  type: git</span><br><span class="line">  repo: https://github.com/你的用戶名稱/你的用戶名稱.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure><hr><h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>接著在終端機使用hexo指令，把現有的網站資料部署上去。</p><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo g  //建立public資料</span><br><span class="line">$ hexo d  //部署上去</span><br></pre></td></tr></table></figure><p>部署完成後大概等5~15分鐘後就可以看自己的網站有沒有成功的上傳上去嘍。</p><p>下一篇我們會介紹如何套用blog的主題~ 🙌 🙌 🙌</p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;hexo是一個可以快速建立blog的網誌框架，擁有豐富的主題、及外掛可以利用。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-02.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h3 id=&quot;前置作業&quot;&gt;&lt;a href=&quot;#前置作業&quot; cla</summary>
      
    
    
    
    <category term="blog" scheme="https://johnnytsai81.github.io/categories/blog/"/>
    
    
    <category term="Hexo" scheme="https://johnnytsai81.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>用lightgallery.js快速建立幻燈片效果</title>
    <link href="https://johnnytsai81.github.io/Plugin/01_lightgallery/"/>
    <id>https://johnnytsai81.github.io/Plugin/01_lightgallery/</id>
    <published>2022-03-29T04:17:39.000Z</published>
    <updated>2022-12-31T13:08:35.031Z</updated>
    
    <content type="html"><![CDATA[<p>lightgallery 是可以是一個讓網站快速實現幻燈片的插件，而且套件使用方法很單純容易上手。</p><p><img src="/images/post/head-cv-01.jpg" alt="$cover"></p><h2 id="版本選擇"><a href="#版本選擇" class="headerlink" title="版本選擇"></a>版本選擇</h2><p>目前最新的版本為<a href="https://www.lightgalleryjs.com/">version2</a>，多了瀑布流的功能。但是基礎的幻燈片功能<a href="https://sachinchoolur.github.io/lightgallery.js/">version1</a>也很夠用了，所以這篇文章主要討論的範圍皆為version1。</p><div class="admonition info"><p class="admonition-title">tip</p><p>lightgallery 需要放css跟js兩個檔案，樣式的部分先用原生的css，之後再自己寫css覆蓋掉會快很多。 <a href="https://cdnjs.com/libraries/lightgallery">cdnjs連結</a></p></div><h2 id="基本設定"><a href="#基本設定" class="headerlink" title="基本設定"></a>基本設定</h2><p>首先先設定最基礎的HTML架構及JS設定:</p><h4 id="標準架構"><a href="#標準架構" class="headerlink" title="標準架構"></a>標準架構</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;lightgallery&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;img/img1.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/thumb1.jpg&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;img/img2.jpg&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;img/thumb2.jpg&quot;</span> /&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">  ...</span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;#lightgallery&quot;</span>).<span class="title function_">lightGallery</span>(); <span class="comment">// 一個id只能套用一組幻燈片，如果一個頁面有多個幻燈片需要用不同的id</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><p>需要注意的是HTML的部分，官方的標準架構必須是 div &gt; a &gt; img ，如果用其他的排列方式會無法作用。</p><p>如果想要套自己的排版必須要加上 <code>data-src=&quot;&quot;</code> (圖片連結)  <code>data-poster=&quot;&quot;</code> (影片連結) 才會執行</p><h4 id="自訂架構"><a href="#自訂架構" class="headerlink" title="自訂架構"></a>自訂架構</h4><figure class="highlight html"><table><tr><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;row&quot;</span> <span class="attr">id</span>=<span class="string">&quot;lightgallery&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;col-4&quot;</span> <span class="attr">data-src</span>=<span class="string">&quot;./image/info_001.jpg&quot;</span>&gt;</span> </span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;card&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;picture&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;./image/info_001.jpg&quot;</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>如果想要新增功能 必須要自己建立一個function</p><figure class="highlight js"><table><tr><td class="code"><pre><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">initlightGallery</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initlightGallery</span>(<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;#lightgallery&quot;</span>).<span class="title function_">lightGallery</span>(&#123;</span><br><span class="line">    <span class="attr">autoplayControls</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">share</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">zoom</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">fullScreen</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">download</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">showThumbByDefault</span>: <span class="literal">false</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="進階設定"><a href="#進階設定" class="headerlink" title="進階設定"></a>進階設定</h2><p>官方還提供了<a href="https://sachinchoolur.github.io/lightgallery.js/demos/transitions.html">轉場效果</a>及<a href="https://sachinchoolur.github.io/lightgallery.js/demos/easing.html">速率</a>調整，也提供<a href="https://sachinchoolur.github.io/lightgallery.js/demos/fixed-size.html">不滿版</a>的選擇，可以自行去官方文件了解用法。因為我沒有用過所以就先不寫在這裡。</p><h2 id="參數設定"><a href="#參數設定" class="headerlink" title="參數設定"></a>參數設定</h2><p>參數請參考<a href="https://sachinchoolur.github.io/lightgallery.js/docs/api.html">官方文件</a>，這邊提供幾個我覺得常用的參數:</p><div class="table-outer"><table><thead><tr><th>參數</th><th>預設值</th><th>用途</th></tr></thead><tbody><tr><td>autoplayControls</td><td>true</td><td>可選擇是否出現自動播放的按鈕</td></tr><tr><td>share</td><td>true</td><td>可選擇是否出現分享按鈕</td></tr><tr><td>zoom</td><td>true</td><td>可選擇是否出現放大縮小按鈕</td></tr><tr><td>download</td><td>true</td><td>可選擇是否出現下載按鈕</td></tr><tr><td>showThumbByDefault</td><td>true</td><td>是否一開始就顯示預覽來源</td></tr><tr><td>exThumbImage</td><td>false</td><td>幻燈片內的預覽小圖來源，如果有修改過架構就必須加上這個參數，否則程式會抓不到圖片，一般來說設 data-src 抓一樣的圖即可</td></tr></tbody></table></div>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;lightgallery 是可以是一個讓網站快速實現幻燈片的插件，而且套件使用方法很單純容易上手。&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;/images/post/head-cv-01.jpg&quot; alt=&quot;$cover&quot;&gt;&lt;/p&gt;
&lt;h2 id=&quot;版本選擇&quot;&gt;&lt;a href=&quot;</summary>
      
    
    
    
    <category term="Plugin" scheme="https://johnnytsai81.github.io/categories/Plugin/"/>
    
    
    <category term="Slide" scheme="https://johnnytsai81.github.io/tags/Slide/"/>
    
  </entry>
  
</feed>
